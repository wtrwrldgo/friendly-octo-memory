(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{5529:function(e,t,a){Promise.resolve().then(a.t.bind(a,7960,23)),Promise.resolve().then(a.bind(a,6454)),Promise.resolve().then(a.bind(a,6281)),Promise.resolve().then(a.bind(a,7124)),Promise.resolve().then(a.bind(a,1258)),Promise.resolve().then(a.bind(a,8116)),Promise.resolve().then(a.bind(a,6476)),Promise.resolve().then(a.bind(a,9124))},6454:function(e,t,a){"use strict";a.d(t,{default:function(){return F}});var s=a(7437),n=a(6281),r=a(9376),l=a(2265),i=a(7648),o=a(5466),c=a(8420),d=a(8906),m=a(6275),u=a(340),h=a(5805),x=a(8226),f=a(285),g=a(4794),b=a(5252),p=a(7815),v=a(5005),w=a(2048),j=a(8728),N=a(407),y=a(2451),k=a(2023),S=a(9202),A=a(401),E=a(5929),Z=a(7226),C=a(7692),T=a(6476),P=a(8116),I=a(1258);let M="http://45.92.173.121/api".replace("/api","")||"http://45.92.173.121";function R(){var e,t,a,R;let D=(0,r.usePathname)(),{theme:_,toggleTheme:B}=(0,T.F)(),{user:U,firm:F,logout:L,isWatergoAdmin:O,isOwner:G,isManager:W,profile:z}=(0,n.a)(),{subscription:X}=(0,P.m)(),{language:V,setLanguage:Y,t:q}=(0,I.ZK)(),[J,H]=(0,l.useState)(!1),[K,Q]=(0,l.useState)(!1),[$,ee]=(0,l.useState)(!1),[et,ea]=(0,l.useState)(!1),es=(null==F?void 0:F.logoUrl)?F.logoUrl.startsWith("http")?F.logoUrl:"".concat(M).concat(F.logoUrl):null;(0,l.useEffect)(()=>{H(!1)},[null==F?void 0:F.logoUrl]),(0,l.useEffect)(()=>{ee(!0);let e=localStorage.getItem("sidebar-collapsed");e&&Q(JSON.parse(e))},[]);let en=[{href:"/",icon:o.Z,label:q.nav.dashboard,section:"main"},{href:"/firms",icon:c.Z,label:q.nav.firms,section:"main"},{href:"/firm-moderation",icon:d.Z,label:q.nav.firmModeration,section:"main"},{href:"/orders",icon:m.Z,label:q.nav.orders,section:"management"},{href:"/drivers",icon:u.Z,label:q.nav.drivers,section:"management"},{href:"/accounts",icon:h.Z,label:q.nav.accounts,section:"management"},{href:"/billing",icon:x.Z,label:q.nav.billing,section:"management"}],er=[{href:"/firm-dashboard",icon:o.Z,label:q.nav.dashboard,section:"main"},{href:"/firm-order-create",icon:f.Z,label:q.nav.createOrder,section:"main"},{href:"/firm-products",icon:g.Z,label:q.nav.products,section:"catalog"},{href:"/firm-finances",icon:b.Z,label:q.nav.finances,section:"catalog"},{href:"/firm-clients",icon:p.Z,label:q.nav.clients,section:"management"},{href:"/firm-orders",icon:m.Z,label:q.nav.orders,section:"management"},{href:"/firm-drivers",icon:u.Z,label:q.nav.drivers,section:"management"},{href:"/firm-staff",icon:v.Z,label:q.nav.staff,section:"management"},{href:"/firm-regions",icon:w.Z,label:q.nav.regions,section:"settings"},{href:"/firm-settings",icon:j.Z,label:q.nav.settings,section:"settings"},{href:"/pricing",icon:x.Z,label:q.nav.subscription,section:"settings"}],el=O?en:er,ei=O?[{id:"main",label:q.sections.overview},{id:"management",label:q.sections.management}]:[{id:"main",label:q.sections.quickActions},{id:"catalog",label:q.sections.catalog},{id:"management",label:q.sections.operations},{id:"settings",label:q.sections.settings}],eo=e=>"/"===e||"/firm-dashboard"===e?D===e:D.startsWith(e);return $?(0,s.jsxs)("aside",{className:"\n        ".concat(K?"w-20":"w-72","\n        relative flex flex-col h-screen\n        bg-gradient-to-b from-slate-900 via-slate-900 to-slate-950\n        border-r border-white/5\n        transition-all duration-300 ease-in-out\n        shadow-2xl shadow-black/50\n      "),children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600/10 via-transparent to-purple-600/5 pointer-events-none"}),(0,s.jsx)("button",{onClick:()=>{let e=!K;Q(e),localStorage.setItem("sidebar-collapsed",JSON.stringify(e))},className:"absolute -right-3 top-8 z-50 w-6 h-6 bg-slate-800 border border-slate-700 rounded-full flex items-center justify-center text-slate-400 hover:text-white hover:bg-slate-700 transition-all duration-200 shadow-lg",children:K?(0,s.jsx)(N.Z,{className:"w-3 h-3"}):(0,s.jsx)(y.Z,{className:"w-3 h-3"})}),(0,s.jsx)("div",{className:"relative p-6 ".concat(K?"px-4":""),children:(0,s.jsxs)("div",{className:"flex ".concat(K?"justify-center":"items-center gap-4"),children:[(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsx)("div",{className:"\n              ".concat(K?"w-12 h-12":"w-14 h-14","\n              rounded-2xl overflow-hidden\n              bg-gradient-to-br from-blue-500 via-blue-600 to-indigo-700\n              flex items-center justify-center\n              shadow-lg shadow-blue-500/25\n              ring-2 ring-white/10\n              transition-all duration-300\n              group-hover:shadow-blue-500/40 group-hover:scale-105\n            "),children:es&&!J?(0,s.jsx)("img",{src:es,alt:(null==F?void 0:F.name)||"Firm logo",className:"w-full h-full object-cover",onError:()=>H(!0)}):(0,s.jsx)("span",{className:"".concat(K?"text-lg":"text-xl"," font-bold text-white"),children:((null==F?void 0:F.name)||"W").charAt(0).toUpperCase()})}),(0,s.jsx)("div",{className:"absolute -bottom-0.5 -right-0.5 w-3.5 h-3.5 bg-emerald-500 rounded-full border-2 border-slate-900 shadow-lg",children:(0,s.jsx)("div",{className:"absolute inset-0 bg-emerald-400 rounded-full animate-ping opacity-75"})})]}),!K&&(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("h1",{className:"text-lg font-bold text-white truncate",children:(null==F?void 0:F.name)||"WaterGo"}),(0,s.jsx)("div",{className:"flex items-center gap-2 mt-1",children:(0,s.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-[10px] font-semibold border ".concat((null==X?void 0:X.status)==="TRIAL_EXPIRED"?"bg-red-500/20 text-red-300 border-red-500/30":"bg-blue-500/20 text-blue-300 border-blue-500/30"),children:[(0,s.jsx)(k.Z,{className:"w-2.5 h-2.5"}),(()=>{if(O)return"Admin";if(!X)return"Free Trial";switch(X.status){case"TRIAL_ACTIVE":default:return"Free Trial";case"TRIAL_EXPIRED":return"Expired";case"BASIC":return"Basic";case"PRO":return"Pro";case"MAX":return"Max"}})()]})})]})]})}),(0,s.jsx)("nav",{className:"flex-1 px-3 py-4 overflow-y-auto scrollbar-thin",children:ei.map(e=>{let t=el.filter(t=>t.section===e.id);return 0===t.length?null:(0,s.jsxs)("div",{className:"mb-6",children:[!K&&(0,s.jsx)("div",{className:"px-3 mb-2",children:(0,s.jsx)("span",{className:"text-[10px] font-semibold uppercase tracking-wider text-slate-500",children:e.label})}),(0,s.jsx)("div",{className:"space-y-1",children:t.map(e=>{let t=e.icon,a=eo(e.href);return(0,s.jsxs)(i.default,{href:e.href,title:K?e.label:void 0,className:"\n                        relative flex items-center gap-3\n                        ".concat(K?"justify-center px-3":"px-4","\n                        py-3 rounded-xl\n                        transition-all duration-200 group\n                        ").concat(a?"bg-gradient-to-r from-blue-600/20 to-blue-600/10 text-white":"text-slate-400 hover:text-white hover:bg-white/5","\n                      "),children:[a&&(0,s.jsx)("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-1 h-8 bg-gradient-to-b from-blue-400 to-blue-600 rounded-r-full shadow-lg shadow-blue-500/50"}),(0,s.jsx)("div",{className:"\n                        relative flex items-center justify-center\n                        ".concat(a?"text-blue-400":"text-slate-400 group-hover:text-white","\n                        transition-all duration-200\n                      "),children:(0,s.jsx)(t,{className:"w-5 h-5 ".concat(a?"drop-shadow-[0_0_8px_rgba(59,130,246,0.5)]":"")})}),!K&&(0,s.jsx)("span",{className:"font-medium text-sm ".concat(a?"text-white":""),children:e.label}),a&&!K&&(0,s.jsx)("div",{className:"ml-auto w-2 h-2 rounded-full bg-blue-400 shadow-lg shadow-blue-400/50"})]},e.href)})})]},e.id)})}),(0,s.jsxs)("div",{className:"px-3 pb-3 space-y-1",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("button",{onClick:()=>ea(!et),title:K?null===(e=I.Mj.find(e=>e.code===V))||void 0===e?void 0:e.label:void 0,className:"\n              w-full flex items-center gap-3\n              ".concat(K?"justify-center px-3":"px-4","\n              py-3 rounded-xl\n              text-slate-400 hover:text-white hover:bg-white/5\n              transition-all duration-200 group\n            "),children:[(0,s.jsx)(S.Z,{className:"w-5 h-5 group-hover:text-blue-400 transition-colors"}),!K&&(0,s.jsxs)("span",{className:"font-medium text-sm flex-1 text-left",children:[null===(t=I.Mj.find(e=>e.code===V))||void 0===t?void 0:t.flag," ",null===(a=I.Mj.find(e=>e.code===V))||void 0===a?void 0:a.label]})]}),et&&(0,s.jsx)("div",{className:"\n              absolute bottom-full mb-2 ".concat(K?"left-full ml-2":"left-0 right-0","\n              bg-slate-800 border border-slate-700 rounded-xl shadow-xl overflow-hidden z-50\n              min-w-[160px]\n            "),children:I.Mj.map(e=>(0,s.jsxs)("button",{onClick:()=>{Y(e.code),ea(!1)},className:"\n                    w-full flex items-center gap-3 px-4 py-2.5\n                    text-sm transition-colors\n                    ".concat(V===e.code?"bg-blue-600/20 text-blue-400":"text-slate-300 hover:bg-white/5 hover:text-white","\n                  "),children:[(0,s.jsx)("span",{children:e.flag}),(0,s.jsx)("span",{className:"flex-1 text-left",children:e.label}),V===e.code&&(0,s.jsx)(A.Z,{className:"w-4 h-4"})]},e.code))})]}),(0,s.jsxs)("button",{onClick:B,title:K?"dark"===_?q.nav.lightMode:q.nav.darkMode:void 0,className:"\n            w-full flex items-center gap-3\n            ".concat(K?"justify-center px-3":"px-4","\n            py-3 rounded-xl\n            text-slate-400 hover:text-white hover:bg-white/5\n            transition-all duration-200 group\n          "),children:["dark"===_?(0,s.jsx)(E.Z,{className:"w-5 h-5 group-hover:text-amber-400 transition-colors"}):(0,s.jsx)(Z.Z,{className:"w-5 h-5 group-hover:text-blue-400 transition-colors"}),!K&&(0,s.jsx)("span",{className:"font-medium text-sm",children:"dark"===_?q.nav.lightMode:q.nav.darkMode})]}),(0,s.jsxs)("button",{onClick:L,title:K?q.nav.logout:void 0,className:"\n            w-full flex items-center gap-3\n            ".concat(K?"justify-center px-3":"px-4","\n            py-3 rounded-xl\n            text-slate-400 hover:text-red-400 hover:bg-red-500/10\n            transition-all duration-200 group\n          "),children:[(0,s.jsx)(C.Z,{className:"w-5 h-5"}),!K&&(0,s.jsx)("span",{className:"font-medium text-sm",children:q.nav.logout})]})]}),(0,s.jsx)("div",{className:"\n        p-4 mx-3 mb-3 rounded-2xl\n        bg-gradient-to-br from-white/5 to-white/[0.02]\n        border border-white/5\n        ".concat(K?"px-2":"","\n      "),children:(0,s.jsxs)("div",{className:"flex ".concat(K?"justify-center":"items-center gap-3"),children:[(0,s.jsx)("div",{className:"\n            ".concat(K?"w-10 h-10":"w-11 h-11","\n            rounded-xl\n            bg-gradient-to-br from-emerald-500 to-teal-600\n            flex items-center justify-center\n            text-white font-bold text-sm\n            shadow-lg shadow-emerald-500/20\n            flex-shrink-0\n          "),children:O?"SA":(null==z?void 0:null===(R=z.role)||void 0===R?void 0:R.charAt(0))||"U"}),!K&&(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"text-sm font-semibold text-white truncate",children:O?q.auth.superAdmin:(null==z?void 0:z.role)==="OWNER"?q.auth.firmOwner:(null==z?void 0:z.role)==="MANAGER"?q.staff.manager:q.staff.operator}),(0,s.jsx)("p",{className:"text-xs text-slate-400 truncate",children:null==U?void 0:U.email})]})]})})]}):null}var D=a(3639),_=a(5302);let B=[{name:"Basic",price:"99,000",period:"month",features:["Up to 100 orders/month","Up to 5 drivers","Basic analytics","Email support"],recommended:!1},{name:"Pro",price:"199,000",period:"month",features:["Up to 500 orders/month","Up to 15 drivers","Advanced analytics","Priority support","Custom branding"],recommended:!0},{name:"Max",price:"399,000",period:"month",features:["Unlimited orders","Unlimited drivers","Full analytics suite","24/7 phone support","Custom integrations","Dedicated manager"],recommended:!1}];function U(){let{subscription:e,loading:t}=(0,P.m)(),{isWatergoAdmin:a,firm:r}=(0,n.a)();return a||t||!(null==e?void 0:e.isTrialExpired)?null:(0,s.jsx)("div",{className:"fixed inset-0 z-50 bg-gray-900/95 backdrop-blur-sm overflow-y-auto",children:(0,s.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center p-6",children:[(0,s.jsxs)("div",{className:"text-center mb-10",children:[(0,s.jsx)("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-red-500/20 rounded-full mb-6",children:(0,s.jsx)(D.Z,{className:"w-10 h-10 text-red-400"})}),(0,s.jsx)("h1",{className:"text-3xl font-bold text-white mb-3",children:"Your Free Trial Has Expired"}),(0,s.jsxs)("p",{className:"text-gray-400 text-lg max-w-md mx-auto",children:["Your 30-day free trial for ",(0,s.jsx)("span",{className:"text-white font-semibold",children:(null==r?void 0:r.name)||"your firm"})," has ended. Choose a plan to continue using WaterGo CRM."]}),(0,s.jsxs)("div",{className:"mt-4 inline-flex items-center gap-2 px-4 py-2 bg-green-500/10 border border-green-500/20 rounded-full",children:[(0,s.jsx)(_.Z,{className:"w-4 h-4 text-green-400"}),(0,s.jsx)("span",{className:"text-green-400 text-sm font-medium",children:"Your data is safe. Activate a plan to continue without interruption."})]})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-5xl w-full mb-10",children:B.map(e=>(0,s.jsxs)("div",{className:"relative bg-gray-800 rounded-2xl p-6 border-2 transition-all ".concat(e.recommended?"border-blue-500 shadow-xl shadow-blue-500/20":"border-gray-700 hover:border-gray-600"),children:[e.recommended&&(0,s.jsx)("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:(0,s.jsxs)("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-500 text-white text-xs font-semibold rounded-full",children:[(0,s.jsx)(k.Z,{className:"w-3 h-3"}),"Recommended"]})}),(0,s.jsxs)("div",{className:"text-center mb-6",children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:e.name}),(0,s.jsxs)("div",{className:"flex items-baseline justify-center gap-1",children:[(0,s.jsx)("span",{className:"text-3xl font-bold text-white",children:e.price}),(0,s.jsxs)("span",{className:"text-gray-400",children:["UZS/",e.period]})]})]}),(0,s.jsx)("ul",{className:"space-y-3 mb-6",children:e.features.map((e,t)=>(0,s.jsxs)("li",{className:"flex items-center gap-2 text-gray-300",children:[(0,s.jsx)(A.Z,{className:"w-4 h-4 text-green-400 flex-shrink-0"}),(0,s.jsx)("span",{className:"text-sm",children:e})]},t))}),(0,s.jsxs)("button",{className:"w-full py-3 rounded-xl font-semibold transition-all ".concat(e.recommended?"bg-blue-500 hover:bg-blue-600 text-white":"bg-gray-700 hover:bg-gray-600 text-white"),children:["Select ",e.name]})]},e.name))}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-gray-400 mb-4",children:"Need help choosing a plan? Contact our sales team."}),(0,s.jsxs)("div",{className:"flex items-center justify-center gap-4",children:[(0,s.jsxs)("a",{href:"mailto:support@watergo.uz",className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:[(0,s.jsx)(x.Z,{className:"w-4 h-4"}),"Contact Sales"]}),(0,s.jsx)(i.default,{href:"/pricing",className:"inline-flex items-center gap-2 px-4 py-2 text-blue-400 hover:text-blue-300 transition-colors",children:"View detailed pricing"})]})]}),(0,s.jsx)("div",{className:"mt-10 text-center",children:(0,s.jsxs)("p",{className:"text-gray-500 text-sm",children:["Trial started: ",(null==e?void 0:e.trialStartAt)?new Date(e.trialStartAt).toLocaleDateString():"—"," | Trial ended: ",(null==e?void 0:e.trialEndAt)?new Date(e.trialEndAt).toLocaleDateString():"—"]})})]})})}function F(e){let{children:t}=e,{user:a,loading:l}=(0,n.a)(),i=(0,r.usePathname)();return l?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading..."})]})}):"/login"!==i&&a?(0,s.jsxs)("div",{className:"flex h-screen",children:[(0,s.jsx)(R,{}),(0,s.jsx)("main",{className:"flex-1 overflow-auto bg-gray-50 dark:bg-gray-900",children:t}),"/pricing"!==i&&(0,s.jsx)(U,{})]}):(0,s.jsx)(s.Fragment,{children:t})}},8116:function(e,t,a){"use strict";a.d(t,{SubscriptionProvider:function(){return i},m:function(){return o}});var s=a(7437),n=a(2265),r=a(6281);let l=(0,n.createContext)(void 0);function i(e){let{children:t}=e,{profile:a,firm:i,loading:o,isWatergoAdmin:c}=(0,r.a)(),[d,m]=(0,n.useState)(null),[u,h]=(0,n.useState)(!0),[x,f]=(0,n.useState)(null),g=(0,n.useCallback)(async()=>{if(!(null==a?void 0:a.firmId)){h(!1);return}if(c||"WATERGO_ADMIN"===a.role){m({status:"MAX",trialStartAt:null,trialEndAt:null,daysRemaining:null,isTrialExpired:!1,hasAccess:!0}),h(!1);return}try{h(!0),f(null);let e=await fetch("".concat("http://localhost:3001","/api/firms/").concat(a.firmId));if(!e.ok)throw Error("Failed to fetch firm details");let t=await e.json(),s=t.success?t.data:t,n=new Date((null==s?void 0:s.createdAt)||new Date),r=new Date(n);r.setDate(r.getDate()+30);let l=new Date,i=Math.ceil((r.getTime()-l.getTime())/864e5),o=i<=0;m({status:o?"TRIAL_EXPIRED":"TRIAL_ACTIVE",trialStartAt:n.toISOString(),trialEndAt:r.toISOString(),daysRemaining:Math.max(0,i),isTrialExpired:o,hasAccess:!o})}catch(e){console.error("Error calculating subscription:",e),f(e.message),m({status:"TRIAL_ACTIVE",trialStartAt:null,trialEndAt:null,daysRemaining:30,isTrialExpired:!1,hasAccess:!0})}finally{h(!1)}},[a,c]);(0,n.useEffect)(()=>{!o&&a?g():o||a||h(!1)},[o,a,g]);let b=(0,n.useCallback)(async()=>{await g()},[g]);return(0,s.jsx)(l.Provider,{value:{subscription:d,loading:u,error:x,refreshSubscription:b},children:t})}function o(){let e=(0,n.useContext)(l);if(void 0===e)throw Error("useSubscription must be used within a SubscriptionProvider");return e}},6476:function(e,t,a){"use strict";a.d(t,{F:function(){return i},ThemeProvider:function(){return l}});var s=a(7437),n=a(2265);let r=(0,n.createContext)(void 0);function l(e){let{children:t}=e,[a,l]=(0,n.useState)("dark"),[i,o]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{o(!0);let e=localStorage.getItem("theme");e?l(e):(l("dark"),localStorage.setItem("theme","dark"))},[]),(0,n.useEffect)(()=>{if(i){let e=document.documentElement;"dark"===a?e.classList.add("dark"):e.classList.remove("dark"),localStorage.setItem("theme",a)}},[a,i]),i)?(0,s.jsx)(r.Provider,{value:{theme:a,toggleTheme:()=>{l(e=>"dark"===e?"light":"dark")}},children:t}):(0,s.jsx)(s.Fragment,{children:t})}function i(){let e=(0,n.useContext)(r);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}},9124:function(e,t,a){"use strict";a.d(t,{ToastProvider:function(){return f},p:function(){return u}});var s=a(7437),n=a(2265),r=a(5302),l=a(5131),i=a(3639),o=a(3245),c=a(2023),d=a(2489);let m=(0,n.createContext)(void 0);function u(){let e=(0,n.useContext)(m);if(!e)throw Error("useToast must be used within a ToastProvider");return e}let h={success:{icon:r.Z,gradient:"from-emerald-500 via-green-500 to-teal-500",bgGlow:"shadow-emerald-500/50",iconBg:"bg-white/20",progressBar:"bg-white/40"},error:{icon:l.Z,gradient:"from-red-500 via-rose-500 to-pink-500",bgGlow:"shadow-red-500/50",iconBg:"bg-white/20",progressBar:"bg-white/40"},warning:{icon:i.Z,gradient:"from-amber-500 via-orange-500 to-yellow-500",bgGlow:"shadow-amber-500/50",iconBg:"bg-white/20",progressBar:"bg-white/40"},info:{icon:o.Z,gradient:"from-blue-500 via-indigo-500 to-purple-500",bgGlow:"shadow-blue-500/50",iconBg:"bg-white/20",progressBar:"bg-white/40"}};function x(e){let{toast:t,onRemove:a}=e,[r,l]=(0,n.useState)(!1),[i,o]=(0,n.useState)(!1),[m,u]=(0,n.useState)(100),x=h[t.type],f=x.icon,g=t.duration||4e3;return(0,n.useEffect)(()=>{requestAnimationFrame(()=>l(!0));let e=Date.now(),s=setInterval(()=>{u(Math.max(0,100-(Date.now()-e)/g*100))},50),n=setTimeout(()=>{o(!0),setTimeout(()=>a(t.id),400)},g);return()=>{clearInterval(s),clearTimeout(n)}},[t.id,g,a]),(0,s.jsxs)("div",{className:"\n        relative overflow-hidden rounded-2xl shadow-2xl ".concat(x.bgGlow,"\n        transform transition-all duration-400 ease-out\n        ").concat(r&&!i?"translate-x-0 opacity-100 scale-100":"translate-x-full opacity-0 scale-95","\n        backdrop-blur-xl\n      "),children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r ".concat(x.gradient," opacity-95")}),(0,s.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute -top-1/2 -left-1/2 w-full h-full bg-white/10 rounded-full blur-3xl animate-pulse"}),(0,s.jsx)("div",{className:"absolute -bottom-1/2 -right-1/2 w-full h-full bg-white/5 rounded-full blur-2xl"})]}),(0,s.jsx)("div",{className:"absolute top-2 right-12 opacity-60",children:(0,s.jsx)(c.Z,{className:"w-3 h-3 text-white animate-pulse"})}),(0,s.jsxs)("div",{className:"relative flex items-center gap-4 px-5 py-4 min-w-[320px] max-w-[420px]",children:[(0,s.jsx)("div",{className:"flex-shrink-0 p-2.5 rounded-xl ".concat(x.iconBg," backdrop-blur-sm"),children:(0,s.jsx)(f,{className:"w-5 h-5 text-white drop-shadow-lg"})}),(0,s.jsx)("p",{className:"flex-1 text-white font-semibold text-sm leading-tight drop-shadow-md pr-6",children:t.message}),(0,s.jsx)("button",{onClick:()=>{o(!0),setTimeout(()=>a(t.id),400)},className:"absolute top-3 right-3 p-1.5 rounded-lg bg-white/10 hover:bg-white/20 transition-all hover:scale-110 group",children:(0,s.jsx)(d.Z,{className:"w-3.5 h-3.5 text-white/80 group-hover:text-white"})})]}),(0,s.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-black/10",children:(0,s.jsx)("div",{className:"h-full ".concat(x.progressBar," transition-all duration-100 ease-linear"),style:{width:"".concat(m,"%")}})})]})}function f(e){let{children:t}=e,[a,r]=(0,n.useState)([]),l=(0,n.useCallback)(e=>{r(t=>t.filter(t=>t.id!==e))},[]),i=(0,n.useCallback)((e,t,a)=>{let s="toast-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9));r(n=>[...n,{id:s,type:e,message:t,duration:a}])},[]),o=(0,n.useCallback)((e,t)=>{i("success",e,t)},[i]),c=(0,n.useCallback)((e,t)=>{i("error",e,t)},[i]),d=(0,n.useCallback)((e,t)=>{i("warning",e,t)},[i]),u=(0,n.useCallback)((e,t)=>{i("info",e,t)},[i]);return(0,s.jsxs)(m.Provider,{value:{showToast:i,success:o,error:c,warning:d,info:u},children:[t,(0,s.jsx)("div",{className:"fixed top-4 right-4 z-[99999] flex flex-col gap-3 pointer-events-none",children:a.map(e=>(0,s.jsx)("div",{className:"pointer-events-auto",children:(0,s.jsx)(x,{toast:e,onRemove:l})},e.id))})]})}},7960:function(){}},function(e){e.O(0,[587,972,7,258,124,971,117,744],function(){return e(e.s=5529)}),_N_E=e.O()}]);