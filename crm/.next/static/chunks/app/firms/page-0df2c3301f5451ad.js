(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[957],{4388:function(e,t,a){Promise.resolve().then(a.bind(a,6103))},6103:function(e,t,a){"use strict";a.d(t,{default:function(){return K}});var s=a(7437),r=a(2265),l=a(7139),o=a(1723),n=a(6901),i=a(5131),d=a(8420),c=a(7168),x=a(9397),m=a(9202),f=a(3247),b=a(3774),u=a(1047),h=a(2208),p=a(1810),g=a(7157),j=a(8893),v=a(8930),w=a(29),y=a.n(w),N=a(2489),k=a(1239),C=a(2252),E=a(6595),Z=a(3581),D=a(5863),S=a(3113),z=a(7689),F=a(9232),P=a(2369),A=a(3041),T=a(9345),I=a(6337),B=a(5302),M=a(2023),R=a(401),L=a(8867),U=a(6858);function G(e){let{isOpen:t,onClose:a,title:l,message:o,credentials:i}=e,[d,c]=(0,r.useState)(!1),[x,m]=(0,r.useState)(!1),[f,b]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(t){b(!0);let e=setTimeout(()=>b(!1),2e3);return()=>clearTimeout(e)}},[t]);let u=async(e,t)=>{await navigator.clipboard.writeText(e),"email"===t?(c(!0),setTimeout(()=>c(!1),2e3)):(m(!0),setTimeout(()=>m(!1),2e3))};return t?(0,s.jsxs)("div",{className:"jsx-aece355ae4f0a342 fixed inset-0 z-[60] flex items-center justify-center p-4",children:[(0,s.jsx)("div",{onClick:a,className:"jsx-aece355ae4f0a342 absolute inset-0 bg-slate-900/70 backdrop-blur-md"}),f&&(0,s.jsx)("div",{className:"jsx-aece355ae4f0a342 absolute inset-0 pointer-events-none overflow-hidden",children:[...Array(50)].map((e,t)=>(0,s.jsx)("div",{style:{left:"".concat(100*Math.random(),"%"),animationDelay:"".concat(.5*Math.random(),"s"),backgroundColor:["#10B981","#3B82F6","#8B5CF6","#F59E0B","#EC4899"][Math.floor(5*Math.random())]},className:"jsx-aece355ae4f0a342 confetti-piece"},t))}),(0,s.jsxs)("div",{style:{animation:"successModalIn 0.4s cubic-bezier(0.34, 1.56, 0.64, 1)"},className:"jsx-aece355ae4f0a342 relative bg-white dark:bg-slate-800 rounded-3xl shadow-2xl w-full max-w-md overflow-hidden border border-slate-200/50 dark:border-slate-700/50",children:[(0,s.jsx)("div",{className:"jsx-aece355ae4f0a342 absolute inset-0 bg-gradient-to-br from-emerald-500/5 via-transparent to-blue-500/5 pointer-events-none"}),(0,s.jsx)("div",{className:"jsx-aece355ae4f0a342 absolute -top-20 -right-20 w-40 h-40 bg-emerald-500/20 rounded-full blur-3xl pointer-events-none"}),(0,s.jsx)("div",{className:"jsx-aece355ae4f0a342 absolute -bottom-20 -left-20 w-40 h-40 bg-blue-500/20 rounded-full blur-3xl pointer-events-none"}),(0,s.jsx)("button",{onClick:a,className:"jsx-aece355ae4f0a342 absolute top-4 right-4 w-8 h-8 rounded-full bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 flex items-center justify-center transition-all duration-200 hover:scale-110 z-10",children:(0,s.jsx)(N.Z,{className:"w-4 h-4 text-slate-500 dark:text-slate-400"})}),(0,s.jsxs)("div",{className:"jsx-aece355ae4f0a342 relative p-8 text-center",children:[(0,s.jsxs)("div",{className:"jsx-aece355ae4f0a342 relative inline-flex mb-6",children:[(0,s.jsx)("div",{className:"jsx-aece355ae4f0a342 absolute inset-0 bg-emerald-500/20 rounded-full blur-xl animate-pulse"}),(0,s.jsx)("div",{className:"jsx-aece355ae4f0a342 relative w-20 h-20 bg-gradient-to-br from-emerald-400 to-emerald-600 rounded-full flex items-center justify-center shadow-lg shadow-emerald-500/30",children:(0,s.jsx)(n.Z,{className:"w-10 h-10 text-white",strokeWidth:2.5})}),(0,s.jsx)("div",{className:"jsx-aece355ae4f0a342 absolute -top-1 -right-1 w-6 h-6 bg-gradient-to-br from-amber-400 to-orange-500 rounded-full flex items-center justify-center shadow-lg animate-bounce",children:(0,s.jsx)(M.Z,{className:"w-3 h-3 text-white"})})]}),(0,s.jsx)("h2",{className:"jsx-aece355ae4f0a342 text-2xl font-bold text-slate-900 dark:text-white mb-2",children:l}),(0,s.jsx)("p",{className:"jsx-aece355ae4f0a342 text-slate-600 dark:text-slate-400 mb-6",children:o}),i&&(0,s.jsxs)("div",{className:"jsx-aece355ae4f0a342 bg-slate-50 dark:bg-slate-700/50 rounded-2xl p-5 mb-6 text-left border border-slate-200/50 dark:border-slate-600/50",children:[(0,s.jsxs)("div",{className:"jsx-aece355ae4f0a342 flex items-center gap-2 mb-4",children:[(0,s.jsx)("div",{className:"jsx-aece355ae4f0a342 w-8 h-8 bg-gradient-to-br from-violet-500 to-purple-600 rounded-lg flex items-center justify-center",children:(0,s.jsx)(I.Z,{className:"w-4 h-4 text-white"})}),(0,s.jsx)("span",{className:"jsx-aece355ae4f0a342 font-semibold text-slate-900 dark:text-white",children:"Owner Credentials"})]}),(0,s.jsxs)("div",{className:"jsx-aece355ae4f0a342 mb-3",children:[(0,s.jsx)("label",{className:"jsx-aece355ae4f0a342 text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-1.5 block",children:"Email"}),(0,s.jsxs)("div",{className:"jsx-aece355ae4f0a342 flex items-center gap-2",children:[(0,s.jsxs)("div",{className:"jsx-aece355ae4f0a342 flex-1 flex items-center gap-2 bg-white dark:bg-slate-800 rounded-xl px-4 py-3 border border-slate-200 dark:border-slate-600",children:[(0,s.jsx)(T.Z,{className:"w-4 h-4 text-slate-400"}),(0,s.jsx)("span",{className:"jsx-aece355ae4f0a342 text-slate-900 dark:text-white font-medium truncate",children:i.email})]}),(0,s.jsx)("button",{onClick:()=>u(i.email,"email"),className:"jsx-aece355ae4f0a342 "+"w-11 h-11 rounded-xl flex items-center justify-center transition-all duration-200 ".concat(d?"bg-emerald-500 text-white":"bg-slate-200 dark:bg-slate-600 hover:bg-slate-300 dark:hover:bg-slate-500 text-slate-600 dark:text-slate-300"),children:d?(0,s.jsx)(R.Z,{className:"w-4 h-4"}):(0,s.jsx)(L.Z,{className:"w-4 h-4"})})]})]}),(0,s.jsxs)("div",{className:"jsx-aece355ae4f0a342",children:[(0,s.jsx)("label",{className:"jsx-aece355ae4f0a342 text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-1.5 block",children:"Password"}),(0,s.jsxs)("div",{className:"jsx-aece355ae4f0a342 flex items-center gap-2",children:[(0,s.jsxs)("div",{className:"jsx-aece355ae4f0a342 flex-1 flex items-center gap-2 bg-white dark:bg-slate-800 rounded-xl px-4 py-3 border border-slate-200 dark:border-slate-600",children:[(0,s.jsx)(I.Z,{className:"w-4 h-4 text-slate-400"}),(0,s.jsx)("span",{className:"jsx-aece355ae4f0a342 text-slate-900 dark:text-white font-medium font-mono",children:i.password})]}),(0,s.jsx)("button",{onClick:()=>u(i.password,"password"),className:"jsx-aece355ae4f0a342 "+"w-11 h-11 rounded-xl flex items-center justify-center transition-all duration-200 ".concat(x?"bg-emerald-500 text-white":"bg-slate-200 dark:bg-slate-600 hover:bg-slate-300 dark:hover:bg-slate-500 text-slate-600 dark:text-slate-300"),children:x?(0,s.jsx)(R.Z,{className:"w-4 h-4"}):(0,s.jsx)(L.Z,{className:"w-4 h-4"})})]})]})]}),i&&(0,s.jsx)("p",{className:"jsx-aece355ae4f0a342 text-sm text-slate-500 dark:text-slate-400 mb-6",children:"Share these credentials with the firm owner to access their CRM dashboard."}),(0,s.jsxs)("button",{onClick:a,className:"jsx-aece355ae4f0a342 w-full px-6 py-4 bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white rounded-xl font-semibold shadow-lg shadow-emerald-500/25 hover:shadow-xl transition-all duration-200 flex items-center justify-center gap-2 group",children:[(0,s.jsx)("span",{className:"jsx-aece355ae4f0a342",children:"Continue"}),(0,s.jsx)(U.Z,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]})]}),(0,s.jsx)(y(),{id:"aece355ae4f0a342",children:"@-webkit-keyframes successModalIn{from{opacity:0;-webkit-transform:scale(.8)translatey(20px);transform:scale(.8)translatey(20px)}to{opacity:1;-webkit-transform:scale(1)translatey(0);transform:scale(1)translatey(0)}}@-moz-keyframes successModalIn{from{opacity:0;-moz-transform:scale(.8)translatey(20px);transform:scale(.8)translatey(20px)}to{opacity:1;-moz-transform:scale(1)translatey(0);transform:scale(1)translatey(0)}}@-o-keyframes successModalIn{from{opacity:0;-o-transform:scale(.8)translatey(20px);transform:scale(.8)translatey(20px)}to{opacity:1;-o-transform:scale(1)translatey(0);transform:scale(1)translatey(0)}}@keyframes successModalIn{from{opacity:0;-webkit-transform:scale(.8)translatey(20px);-moz-transform:scale(.8)translatey(20px);-o-transform:scale(.8)translatey(20px);transform:scale(.8)translatey(20px)}to{opacity:1;-webkit-transform:scale(1)translatey(0);-moz-transform:scale(1)translatey(0);-o-transform:scale(1)translatey(0);transform:scale(1)translatey(0)}}@-webkit-keyframes confettiFall{0%{-webkit-transform:translatey(-100vh)rotate(0deg);transform:translatey(-100vh)rotate(0deg);opacity:1}100%{-webkit-transform:translatey(100vh)rotate(720deg);transform:translatey(100vh)rotate(720deg);opacity:0}}@-moz-keyframes confettiFall{0%{-moz-transform:translatey(-100vh)rotate(0deg);transform:translatey(-100vh)rotate(0deg);opacity:1}100%{-moz-transform:translatey(100vh)rotate(720deg);transform:translatey(100vh)rotate(720deg);opacity:0}}@-o-keyframes confettiFall{0%{-o-transform:translatey(-100vh)rotate(0deg);transform:translatey(-100vh)rotate(0deg);opacity:1}100%{-o-transform:translatey(100vh)rotate(720deg);transform:translatey(100vh)rotate(720deg);opacity:0}}@keyframes confettiFall{0%{-webkit-transform:translatey(-100vh)rotate(0deg);-moz-transform:translatey(-100vh)rotate(0deg);-o-transform:translatey(-100vh)rotate(0deg);transform:translatey(-100vh)rotate(0deg);opacity:1}100%{-webkit-transform:translatey(100vh)rotate(720deg);-moz-transform:translatey(100vh)rotate(720deg);-o-transform:translatey(100vh)rotate(720deg);transform:translatey(100vh)rotate(720deg);opacity:0}}.confetti-piece{position:absolute;width:10px;height:10px;top:-20px;-webkit-animation:confettiFall 3s ease-out forwards;-moz-animation:confettiFall 3s ease-out forwards;-o-animation:confettiFall 3s ease-out forwards;animation:confettiFall 3s ease-out forwards}.confetti-piece:nth-child(odd){width:8px;height:16px;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px}.confetti-piece:nth-child(even){-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%}"})]}):null}let O="http://localhost:3001";function V(e){let{isOpen:t,onClose:a,onSuccess:l,firm:n}=e,[c,x]=(0,r.useState)({name:"",city:"",status:"DRAFT",ownerName:"",ownerPhone:"",ownerEmail:"",ownerPassword:"",bottleDepositEnabled:!1,bottleDepositPrice:15e3}),[m,f]=(0,r.useState)(!1),[u,h]=(0,r.useState)(""),[p,g]=(0,r.useState)(!1),[j,w]=(0,r.useState)(""),[R,L]=(0,r.useState)(null),[U,V]=(0,r.useState)(null),[_,q]=(0,r.useState)(null),[W,J]=(0,r.useState)(!1),H=(0,r.useRef)(null),[K,Q]=(0,r.useState)(!1),[X,Y]=(0,r.useState)(!1),$=!!n;(0,r.useEffect)(()=>{t?(Q(!1),requestAnimationFrame(()=>Y(!0))):Y(!1)},[t]),(0,r.useEffect)(()=>{n?(x({name:n.name,city:n.city,status:n.status,ownerName:"",ownerPhone:"",ownerEmail:"",ownerPassword:"",bottleDepositEnabled:n.bottleDepositEnabled||!1,bottleDepositPrice:n.bottleDepositPrice||15e3}),n.logoUrl&&V(n.logoUrl)):(x({name:"",city:"",status:"DRAFT",ownerName:"",ownerPhone:"",ownerEmail:"",ownerPassword:"",bottleDepositEnabled:!1,bottleDepositPrice:15e3}),V(null),q(null)),h("")},[n,t]);let ee=()=>{m||(Q(!0),setTimeout(()=>{Y(!1),a()},200))},et=async()=>{if(!_)return U;J(!0);try{var e;let t=new FormData;t.append("image",_);let a=localStorage.getItem("auth_token"),s=await fetch("".concat(O,"/api/upload/admin/firm-logo"),{method:"POST",headers:{Authorization:"Bearer ".concat(a)},body:t}),r=await s.json();if(r.success&&(null===(e=r.data)||void 0===e?void 0:e.logoUrl))return r.data.logoUrl;return console.warn("Logo upload failed, continuing without logo:",r.message),null}catch(e){return console.warn("Logo upload error, continuing without logo:",e),null}finally{J(!1)}},ea=async e=>{e.preventDefault(),f(!0),h("");try{let e=localStorage.getItem("auth_token"),t={"Content-Type":"application/json",...e?{Authorization:"Bearer ".concat(e)}:{}},a=null;if(_&&(a=await et()),$){let e=await fetch("/api/firms/".concat(n.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:c.name,city:c.city,bottleDepositEnabled:c.bottleDepositEnabled,bottleDepositPrice:c.bottleDepositPrice,...a&&{logoUrl:a}})}),t=await e.json();if(!e.ok)throw Error(t.error||"Failed to update firm")}else{if(!c.ownerName||!c.ownerEmail||!c.ownerPassword||!c.ownerPhone)throw Error("Owner name, phone, email, and password are required");let e=await fetch("".concat(O,"/api/firms"),{method:"POST",headers:t,body:JSON.stringify({name:c.name,isActive:!1,...a&&{logoUrl:a},owner:{name:c.ownerName,phone:c.ownerPhone,email:c.ownerEmail,password:c.ownerPassword}})}),s=await e.json();if(!s.success)throw Error(s.message||"Failed to create firm");w(c.name),L({email:c.ownerEmail,password:c.ownerPassword}),l(),ee(),g(!0);return}l(),ee()}catch(e){h(e.message||"Failed to save firm")}finally{f(!1)}};return t?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(G,{isOpen:p,onClose:()=>{g(!1),w(""),L(null)},title:"Firm Created Successfully!",message:'"'.concat(j,'" has been registered. The owner can now login to configure their firm.'),credentials:R||void 0}),(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,s.jsx)("div",{onClick:ee,className:"jsx-b5601614ff69325d "+"absolute inset-0 bg-slate-900/70 backdrop-blur-md transition-opacity duration-300 ".concat(K?"opacity-0":"opacity-100")}),(0,s.jsx)("div",{className:"jsx-b5601614ff69325d absolute inset-0 pointer-events-none overflow-hidden",children:[...Array(12)].map((e,t)=>(0,s.jsx)("div",{style:{left:"".concat(10+8*t,"%"),top:"".concat(20+t%4*18,"%"),animation:"float ".concat(3+.3*t,"s ease-in-out infinite"),animationDelay:"".concat(.15*t,"s")},className:"jsx-b5601614ff69325d absolute w-2 h-2 rounded-full bg-violet-500/30"},t))}),(0,s.jsxs)("div",{style:{animation:X&&!K?"firmModalIn 0.4s cubic-bezier(0.34, 1.56, 0.64, 1)":void 0},className:"jsx-b5601614ff69325d "+"relative bg-white dark:bg-slate-800 rounded-3xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-hidden border border-slate-200/50 dark:border-slate-700/50 transition-all duration-300 ".concat(K?"opacity-0 scale-90 translate-y-8":X?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-90 translate-y-8"),children:[(0,s.jsx)("div",{className:"jsx-b5601614ff69325d absolute inset-0 bg-gradient-to-br from-violet-500/5 via-transparent to-purple-500/5 pointer-events-none"}),(0,s.jsx)("div",{className:"jsx-b5601614ff69325d absolute -top-24 -right-24 w-48 h-48 bg-violet-500/20 rounded-full blur-3xl pointer-events-none animate-pulse"}),(0,s.jsx)("div",{style:{animationDelay:"1s"},className:"jsx-b5601614ff69325d absolute -bottom-24 -left-24 w-48 h-48 bg-purple-500/20 rounded-full blur-3xl pointer-events-none animate-pulse"}),(0,s.jsx)("button",{onClick:ee,disabled:m,className:"jsx-b5601614ff69325d absolute top-4 right-4 w-10 h-10 rounded-xl bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 flex items-center justify-center transition-all duration-200 hover:scale-110 hover:rotate-90 z-10 disabled:opacity-50",children:(0,s.jsx)(N.Z,{className:"w-5 h-5 text-slate-500 dark:text-slate-400"})}),(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d relative flex items-center gap-4 p-6 border-b border-slate-200/50 dark:border-slate-700/50 bg-gradient-to-r from-slate-50 to-white dark:from-slate-800 dark:to-slate-800/50",children:[(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d relative",children:[(0,s.jsx)("div",{className:"jsx-b5601614ff69325d absolute inset-0 bg-gradient-to-br from-violet-500 to-purple-600 rounded-xl blur-lg opacity-50 animate-pulse"}),(0,s.jsx)("div",{className:"jsx-b5601614ff69325d relative w-14 h-14 rounded-xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center shadow-lg shadow-violet-500/30",children:(0,s.jsx)(d.Z,{className:"w-7 h-7 text-white"})}),(0,s.jsx)("div",{className:"jsx-b5601614ff69325d absolute -top-1 -right-1 w-5 h-5 bg-gradient-to-br from-amber-400 to-orange-500 rounded-full flex items-center justify-center shadow-lg",children:(0,s.jsx)(k.Z,{className:"w-3 h-3 text-white"})})]}),(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d",children:[(0,s.jsx)("h2",{className:"jsx-b5601614ff69325d text-xl font-bold text-slate-900 dark:text-white",children:$?"Edit Firm":"Register New Firm"}),(0,s.jsx)("p",{className:"jsx-b5601614ff69325d text-sm text-slate-500 dark:text-slate-400",children:$?"Update firm details":"Create firm and owner account"})]})]}),(0,s.jsxs)("form",{onSubmit:ea,className:"jsx-b5601614ff69325d relative p-6 overflow-y-auto max-h-[calc(90vh-10rem)]",children:[u&&(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d mb-6 p-4 rounded-xl bg-red-500/10 border border-red-500/20 flex items-center gap-3 animate-shake relative z-50",children:[(0,s.jsx)("div",{className:"jsx-b5601614ff69325d w-10 h-10 rounded-xl bg-red-500/20 flex items-center justify-center flex-shrink-0",children:(0,s.jsx)(C.Z,{className:"w-5 h-5 text-red-500"})}),(0,s.jsx)("p",{className:"jsx-b5601614ff69325d text-sm text-red-600 dark:text-red-400 font-medium",children:u})]}),!$&&(0,s.jsx)("div",{className:"jsx-b5601614ff69325d mb-6 p-4 rounded-xl bg-gradient-to-r from-blue-500/10 to-cyan-500/10 border border-blue-500/20",children:(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d flex items-center gap-3",children:[(0,s.jsx)("div",{className:"jsx-b5601614ff69325d w-8 h-8 rounded-lg bg-blue-500/20 flex items-center justify-center",children:(0,s.jsx)(E.Z,{className:"w-4 h-4 text-blue-500"})}),(0,s.jsxs)("p",{className:"jsx-b5601614ff69325d text-sm text-blue-700 dark:text-blue-300",children:["New firms start in ",(0,s.jsx)("strong",{className:"jsx-b5601614ff69325d",children:"Draft"})," status. The owner configures settings after login."]})]})}),(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d space-y-6",children:[(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d pb-5 border-b border-slate-200/50 dark:border-slate-700/50",children:[(0,s.jsxs)("h3",{className:"jsx-b5601614ff69325d text-sm font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[(0,s.jsx)(Z.Z,{className:"w-4 h-4"}),"Firm Logo"]}),(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d flex items-start gap-4",children:[(0,s.jsx)("div",{onClick:()=>{var e;return!W&&!m&&(null===(e=H.current)||void 0===e?void 0:e.click())},className:"jsx-b5601614ff69325d "+"relative w-28 h-28 rounded-2xl border-2 border-dashed flex items-center justify-center cursor-pointer transition-all duration-300 overflow-hidden group ".concat(U?"border-violet-500 bg-violet-50 dark:bg-violet-900/20":"border-slate-300 dark:border-slate-600 hover:border-violet-400 dark:hover:border-violet-500 bg-slate-50 dark:bg-slate-700/50 hover:bg-violet-50 dark:hover:bg-violet-900/20"),children:W?(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d flex flex-col items-center gap-2",children:[(0,s.jsx)(D.Z,{className:"w-8 h-8 text-violet-500 animate-spin"}),(0,s.jsx)("span",{className:"jsx-b5601614ff69325d text-xs text-violet-500",children:"Uploading..."})]}):U?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("img",{src:U,alt:"Logo preview",className:"jsx-b5601614ff69325d w-full h-full object-cover"}),(0,s.jsx)("div",{className:"jsx-b5601614ff69325d absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:(0,s.jsx)(Z.Z,{className:"w-6 h-6 text-white"})})]}):(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d flex flex-col items-center gap-2 text-slate-400 group-hover:text-violet-500 transition-colors",children:[(0,s.jsx)(S.Z,{className:"w-10 h-10"}),(0,s.jsx)("span",{className:"jsx-b5601614ff69325d text-xs font-medium",children:"Upload"})]})}),(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d flex-1",children:[(0,s.jsx)("input",{ref:H,type:"file",accept:"image/png,image/jpeg,image/jpg,image/webp",onChange:e=>{var t;let a=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!a)return;if(!a.type.startsWith("image/")){h("Please select an image file (PNG, JPG, WEBP)");return}if(a.size>5242880){h("File size must be less than 5MB");return}q(a),h("");let s=new FileReader;s.onloadend=()=>{V(s.result)},s.onerror=()=>{h("Failed to read the image file")},s.readAsDataURL(a)},className:"jsx-b5601614ff69325d hidden"}),(0,s.jsxs)("button",{type:"button",onClick:()=>{var e;return null===(e=H.current)||void 0===e?void 0:e.click()},disabled:W||m,className:"jsx-b5601614ff69325d flex items-center gap-2 px-4 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-300 rounded-xl text-sm font-semibold transition-all disabled:opacity-50",children:[(0,s.jsx)(z.Z,{className:"w-4 h-4"}),U?"Change Logo":"Upload Logo"]}),U&&(0,s.jsxs)("button",{type:"button",onClick:()=>{V(null),q(null),H.current&&(H.current.value="")},className:"jsx-b5601614ff69325d flex items-center gap-2 px-4 py-2.5 mt-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl text-sm font-semibold transition-all",children:[(0,s.jsx)(v.Z,{className:"w-4 h-4"}),"Remove"]}),(0,s.jsx)("p",{className:"jsx-b5601614ff69325d text-xs text-slate-500 mt-3",children:"PNG, JPG, WEBP up to 5MB. Square images recommended."})]})]})]}),(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d "+(($?"":"pb-5 border-b border-slate-200/50 dark:border-slate-700/50")||""),children:[(0,s.jsxs)("h3",{className:"jsx-b5601614ff69325d text-sm font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[(0,s.jsx)(d.Z,{className:"w-4 h-4"}),"Firm Details"]}),(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d mb-4",children:[(0,s.jsxs)("label",{className:"jsx-b5601614ff69325d block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:["Firm Name ",(0,s.jsx)("span",{className:"jsx-b5601614ff69325d text-red-500",children:"*"})]}),(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d relative group",children:[(0,s.jsx)(d.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 group-focus-within:text-violet-500 transition-colors"}),(0,s.jsx)("input",{type:"text",value:c.name,onChange:e=>x({...c,name:e.target.value}),placeholder:"e.g., AquaPure Tashkent",required:!0,className:"jsx-b5601614ff69325d w-full pl-12 pr-4 py-3.5 bg-slate-50 dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600 rounded-xl text-slate-900 dark:text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-violet-500/50 focus:border-violet-500 transition-all"})]})]}),(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d",children:[(0,s.jsxs)("label",{className:"jsx-b5601614ff69325d block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:["City ",(0,s.jsx)("span",{className:"jsx-b5601614ff69325d text-red-500",children:"*"})]}),(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d relative group",children:[(0,s.jsx)(b.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 group-focus-within:text-violet-500 transition-colors"}),(0,s.jsx)("input",{type:"text",value:c.city,onChange:e=>x({...c,city:e.target.value}),placeholder:"e.g., Tashkent",required:!0,className:"jsx-b5601614ff69325d w-full pl-12 pr-4 py-3.5 bg-slate-50 dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600 rounded-xl text-slate-900 dark:text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-violet-500/50 focus:border-violet-500 transition-all"})]})]}),$&&(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d mt-6 pt-5 border-t border-slate-200/50 dark:border-slate-700/50",children:[(0,s.jsxs)("h3",{className:"jsx-b5601614ff69325d text-sm font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[(0,s.jsx)(F.Z,{className:"w-4 h-4"}),"Bottle Deposit"]}),(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d flex items-center justify-between p-4 rounded-xl bg-slate-50 dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600 mb-4",children:[(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d",children:[(0,s.jsx)("p",{className:"jsx-b5601614ff69325d font-semibold text-slate-700 dark:text-slate-300",children:"Enable Bottle Deposit"}),(0,s.jsx)("p",{className:"jsx-b5601614ff69325d text-xs text-slate-500 mt-1",children:"Charge customers for bottle deposit"})]}),(0,s.jsx)("button",{type:"button",onClick:()=>x({...c,bottleDepositEnabled:!c.bottleDepositEnabled}),className:"jsx-b5601614ff69325d "+"relative w-14 h-8 rounded-full transition-colors duration-300 ".concat(c.bottleDepositEnabled?"bg-gradient-to-r from-violet-500 to-purple-500":"bg-slate-300 dark:bg-slate-600"),children:(0,s.jsx)("div",{className:"jsx-b5601614ff69325d "+"absolute top-1 w-6 h-6 bg-white rounded-full shadow-md transition-transform duration-300 ".concat(c.bottleDepositEnabled?"translate-x-7":"translate-x-1")})})]}),c.bottleDepositEnabled&&(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d",children:[(0,s.jsx)("label",{className:"jsx-b5601614ff69325d block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Deposit Price (UZS)"}),(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d relative group",children:[(0,s.jsx)(F.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 group-focus-within:text-violet-500 transition-colors"}),(0,s.jsx)("input",{type:"number",value:c.bottleDepositPrice,onChange:e=>x({...c,bottleDepositPrice:parseInt(e.target.value)||0}),placeholder:"15000",min:"0",className:"jsx-b5601614ff69325d w-full pl-12 pr-4 py-3.5 bg-slate-50 dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600 rounded-xl text-slate-900 dark:text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-violet-500/50 focus:border-violet-500 transition-all"})]}),(0,s.jsx)("p",{className:"jsx-b5601614ff69325d text-xs text-slate-500 mt-2",children:"Amount charged per bottle as deposit"})]})]})]}),!$&&(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d",children:[(0,s.jsxs)("h3",{className:"jsx-b5601614ff69325d text-sm font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[(0,s.jsx)(P.Z,{className:"w-4 h-4"}),"Owner Account"]}),(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d mb-4",children:[(0,s.jsxs)("label",{className:"jsx-b5601614ff69325d block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:["Owner Name ",(0,s.jsx)("span",{className:"jsx-b5601614ff69325d text-red-500",children:"*"})]}),(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d relative group",children:[(0,s.jsx)(P.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 group-focus-within:text-violet-500 transition-colors"}),(0,s.jsx)("input",{type:"text",value:c.ownerName,onChange:e=>x({...c,ownerName:e.target.value}),placeholder:"e.g., Aziz Karimov",required:!0,className:"jsx-b5601614ff69325d w-full pl-12 pr-4 py-3.5 bg-slate-50 dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600 rounded-xl text-slate-900 dark:text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-violet-500/50 focus:border-violet-500 transition-all"})]})]}),(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d mb-4",children:[(0,s.jsxs)("label",{className:"jsx-b5601614ff69325d block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:["Owner Phone ",(0,s.jsx)("span",{className:"jsx-b5601614ff69325d text-red-500",children:"*"})]}),(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d relative group",children:[(0,s.jsx)(A.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 group-focus-within:text-violet-500 transition-colors"}),(0,s.jsx)("input",{type:"tel",value:c.ownerPhone,onChange:e=>x({...c,ownerPhone:e.target.value}),placeholder:"+998901234567",required:!0,className:"jsx-b5601614ff69325d w-full pl-12 pr-4 py-3.5 bg-slate-50 dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600 rounded-xl text-slate-900 dark:text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-violet-500/50 focus:border-violet-500 transition-all"})]})]}),(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d mb-4",children:[(0,s.jsxs)("label",{className:"jsx-b5601614ff69325d block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:["Owner Email ",(0,s.jsx)("span",{className:"jsx-b5601614ff69325d text-red-500",children:"*"})]}),(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d relative group",children:[(0,s.jsx)(T.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 group-focus-within:text-violet-500 transition-colors"}),(0,s.jsx)("input",{type:"email",value:c.ownerEmail,onChange:e=>x({...c,ownerEmail:e.target.value}),placeholder:"owner@aquapure.uz",required:!0,className:"jsx-b5601614ff69325d w-full pl-12 pr-4 py-3.5 bg-slate-50 dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600 rounded-xl text-slate-900 dark:text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-violet-500/50 focus:border-violet-500 transition-all"})]})]}),(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d",children:[(0,s.jsxs)("label",{className:"jsx-b5601614ff69325d block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:["Owner Password ",(0,s.jsx)("span",{className:"jsx-b5601614ff69325d text-red-500",children:"*"})]}),(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d relative group",children:[(0,s.jsx)(I.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 group-focus-within:text-violet-500 transition-colors"}),(0,s.jsx)("input",{type:"password",value:c.ownerPassword,onChange:e=>x({...c,ownerPassword:e.target.value}),placeholder:"Min 6 characters",required:!0,minLength:6,className:"jsx-b5601614ff69325d w-full pl-12 pr-4 py-3.5 bg-slate-50 dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600 rounded-xl text-slate-900 dark:text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-violet-500/50 focus:border-violet-500 transition-all"})]}),(0,s.jsx)("p",{className:"jsx-b5601614ff69325d text-xs text-slate-500 mt-2 ml-1",children:"Owner will use these credentials to login to CRM"})]})]}),$&&n&&(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d p-4 rounded-xl bg-slate-50 dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600",children:[(0,s.jsx)("label",{className:"jsx-b5601614ff69325d block text-sm font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-3",children:"Current Status"}),(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d flex items-center gap-3",children:["ACTIVE"===n.status&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"jsx-b5601614ff69325d w-10 h-10 rounded-xl bg-emerald-500/20 flex items-center justify-center",children:(0,s.jsx)(B.Z,{className:"w-5 h-5 text-emerald-500"})}),(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d",children:[(0,s.jsx)("p",{className:"jsx-b5601614ff69325d font-semibold text-emerald-600 dark:text-emerald-400",children:"Active"}),(0,s.jsx)("p",{className:"jsx-b5601614ff69325d text-xs text-slate-500",children:"Visible in client app"})]})]}),"PENDING_REVIEW"===n.status&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"jsx-b5601614ff69325d w-10 h-10 rounded-xl bg-amber-500/20 flex items-center justify-center",children:(0,s.jsx)(o.Z,{className:"w-5 h-5 text-amber-500"})}),(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d",children:[(0,s.jsx)("p",{className:"jsx-b5601614ff69325d font-semibold text-amber-600 dark:text-amber-400",children:"Pending Review"}),(0,s.jsx)("p",{className:"jsx-b5601614ff69325d text-xs text-slate-500",children:"Awaiting admin approval"})]})]}),"DRAFT"===n.status&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"jsx-b5601614ff69325d w-10 h-10 rounded-xl bg-slate-500/20 flex items-center justify-center",children:(0,s.jsx)(o.Z,{className:"w-5 h-5 text-slate-500"})}),(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d",children:[(0,s.jsx)("p",{className:"jsx-b5601614ff69325d font-semibold text-slate-600 dark:text-slate-400",children:"Draft"}),(0,s.jsx)("p",{className:"jsx-b5601614ff69325d text-xs text-slate-500",children:"Not yet submitted for review"})]})]}),"SUSPENDED"===n.status&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"jsx-b5601614ff69325d w-10 h-10 rounded-xl bg-red-500/20 flex items-center justify-center",children:(0,s.jsx)(i.Z,{className:"w-5 h-5 text-red-500"})}),(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d",children:[(0,s.jsx)("p",{className:"jsx-b5601614ff69325d font-semibold text-red-600 dark:text-red-400",children:"Suspended"}),(0,s.jsx)("p",{className:"jsx-b5601614ff69325d text-xs text-slate-500",children:"Hidden from client app"})]})]})]}),(0,s.jsx)("p",{className:"jsx-b5601614ff69325d text-xs text-slate-500 mt-3 pt-3 border-t border-slate-200 dark:border-slate-600",children:"Status is managed through the Firm Moderation page"})]})]}),(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d flex gap-3 mt-8",children:[(0,s.jsx)("button",{type:"button",onClick:ee,disabled:m,className:"jsx-b5601614ff69325d flex-1 px-6 py-4 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-xl font-semibold hover:bg-slate-200 dark:hover:bg-slate-600 transition-all duration-200 group",children:(0,s.jsx)("span",{className:"jsx-b5601614ff69325d group-hover:scale-105 inline-block transition-transform",children:"Cancel"})}),(0,s.jsx)("button",{type:"submit",disabled:m||W,className:"jsx-b5601614ff69325d flex-1 px-6 py-4 bg-gradient-to-r from-violet-500 to-purple-600 hover:from-violet-600 hover:to-purple-700 text-white rounded-xl font-semibold shadow-lg shadow-violet-500/25 hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 group",children:m?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(D.Z,{className:"w-5 h-5 animate-spin"}),(0,s.jsx)("span",{className:"jsx-b5601614ff69325d",children:$?"Updating...":"Creating..."})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(M.Z,{className:"w-5 h-5 group-hover:scale-110 transition-transform"}),(0,s.jsx)("span",{className:"jsx-b5601614ff69325d",children:$?"Update Firm":"Register Firm"})]})})]})]})]}),(0,s.jsx)(y(),{id:"b5601614ff69325d",children:"@-webkit-keyframes firmModalIn{0%{opacity:0;-webkit-transform:scale(.8)translatey(30px);transform:scale(.8)translatey(30px)}50%{-webkit-transform:scale(1.02)translatey(-5px);transform:scale(1.02)translatey(-5px)}100%{opacity:1;-webkit-transform:scale(1)translatey(0);transform:scale(1)translatey(0)}}@-moz-keyframes firmModalIn{0%{opacity:0;-moz-transform:scale(.8)translatey(30px);transform:scale(.8)translatey(30px)}50%{-moz-transform:scale(1.02)translatey(-5px);transform:scale(1.02)translatey(-5px)}100%{opacity:1;-moz-transform:scale(1)translatey(0);transform:scale(1)translatey(0)}}@-o-keyframes firmModalIn{0%{opacity:0;-o-transform:scale(.8)translatey(30px);transform:scale(.8)translatey(30px)}50%{-o-transform:scale(1.02)translatey(-5px);transform:scale(1.02)translatey(-5px)}100%{opacity:1;-o-transform:scale(1)translatey(0);transform:scale(1)translatey(0)}}@keyframes firmModalIn{0%{opacity:0;-webkit-transform:scale(.8)translatey(30px);-moz-transform:scale(.8)translatey(30px);-o-transform:scale(.8)translatey(30px);transform:scale(.8)translatey(30px)}50%{-webkit-transform:scale(1.02)translatey(-5px);-moz-transform:scale(1.02)translatey(-5px);-o-transform:scale(1.02)translatey(-5px);transform:scale(1.02)translatey(-5px)}100%{opacity:1;-webkit-transform:scale(1)translatey(0);-moz-transform:scale(1)translatey(0);-o-transform:scale(1)translatey(0);transform:scale(1)translatey(0)}}@-webkit-keyframes float{0%,100%{-webkit-transform:translatey(0)scale(1);transform:translatey(0)scale(1);opacity:.3}50%{-webkit-transform:translatey(-20px)scale(1.2);transform:translatey(-20px)scale(1.2);opacity:.6}}@-moz-keyframes float{0%,100%{-moz-transform:translatey(0)scale(1);transform:translatey(0)scale(1);opacity:.3}50%{-moz-transform:translatey(-20px)scale(1.2);transform:translatey(-20px)scale(1.2);opacity:.6}}@-o-keyframes float{0%,100%{-o-transform:translatey(0)scale(1);transform:translatey(0)scale(1);opacity:.3}50%{-o-transform:translatey(-20px)scale(1.2);transform:translatey(-20px)scale(1.2);opacity:.6}}@keyframes float{0%,100%{-webkit-transform:translatey(0)scale(1);-moz-transform:translatey(0)scale(1);-o-transform:translatey(0)scale(1);transform:translatey(0)scale(1);opacity:.3}50%{-webkit-transform:translatey(-20px)scale(1.2);-moz-transform:translatey(-20px)scale(1.2);-o-transform:translatey(-20px)scale(1.2);transform:translatey(-20px)scale(1.2);opacity:.6}}@-webkit-keyframes shake{0%,100%{-webkit-transform:translatex(0);transform:translatex(0)}25%{-webkit-transform:translatex(-5px);transform:translatex(-5px)}75%{-webkit-transform:translatex(5px);transform:translatex(5px)}}@-moz-keyframes shake{0%,100%{-moz-transform:translatex(0);transform:translatex(0)}25%{-moz-transform:translatex(-5px);transform:translatex(-5px)}75%{-moz-transform:translatex(5px);transform:translatex(5px)}}@-o-keyframes shake{0%,100%{-o-transform:translatex(0);transform:translatex(0)}25%{-o-transform:translatex(-5px);transform:translatex(-5px)}75%{-o-transform:translatex(5px);transform:translatex(5px)}}@keyframes shake{0%,100%{-webkit-transform:translatex(0);-moz-transform:translatex(0);-o-transform:translatex(0);transform:translatex(0)}25%{-webkit-transform:translatex(-5px);-moz-transform:translatex(-5px);-o-transform:translatex(-5px);transform:translatex(-5px)}75%{-webkit-transform:translatex(5px);-moz-transform:translatex(5px);-o-transform:translatex(5px);transform:translatex(5px)}}.animate-shake{-webkit-animation:shake.3s ease-in-out;-moz-animation:shake.3s ease-in-out;-o-animation:shake.3s ease-in-out;animation:shake.3s ease-in-out}"})]})]}):null}var _=a(3639),q=a(3578);function W(e){let{isOpen:t,onClose:a,onConfirm:l,title:o,message:n,confirmText:i="Confirm",cancelText:d="Cancel",variant:c="danger",loading:x,itemName:m}=e,[f,b]=(0,r.useState)(!1),[u,h]=(0,r.useState)(!1),[p,g]=(0,r.useState)(!1),j=null!=x?x:f;(0,r.useEffect)(()=>{t?(h(!1),requestAnimationFrame(()=>g(!0))):g(!1)},[t]);let w=()=>{j||(h(!0),setTimeout(()=>{g(!1),a()},200))},k=async()=>{b(!0);try{await l(),h(!0),setTimeout(()=>{g(!1),a()},200)}catch(e){console.error("Confirm action failed:",e)}finally{b(!1)}};if(!t)return null;let C={danger:{icon:v.Z,iconColor:"text-red-500",gradient:"from-red-500 to-rose-600",bgGradient:"from-red-500/10 to-rose-500/5",confirmButton:"from-red-500 to-rose-600 hover:from-red-600 hover:to-rose-700 shadow-red-500/25",orbColor:"from-red-500/10 to-rose-500/10",glowColor:"bg-red-500/20",warningBg:"bg-red-50 dark:bg-red-900/20",warningBorder:"border-red-200 dark:border-red-800/50",warningText:"text-red-600 dark:text-red-400"},warning:{icon:_.Z,iconColor:"text-amber-500",gradient:"from-amber-500 to-orange-600",bgGradient:"from-amber-500/10 to-orange-500/5",confirmButton:"from-amber-500 to-orange-600 hover:from-amber-600 hover:to-orange-700 shadow-amber-500/25",orbColor:"from-amber-500/10 to-orange-500/10",glowColor:"bg-amber-500/20",warningBg:"bg-amber-50 dark:bg-amber-900/20",warningBorder:"border-amber-200 dark:border-amber-800/50",warningText:"text-amber-600 dark:text-amber-400"},info:{icon:q.Z,iconColor:"text-blue-500",gradient:"from-blue-500 to-indigo-600",bgGradient:"from-blue-500/10 to-indigo-500/5",confirmButton:"from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 shadow-blue-500/25",orbColor:"from-blue-500/10 to-indigo-500/10",glowColor:"bg-blue-500/20",warningBg:"bg-blue-50 dark:bg-blue-900/20",warningBorder:"border-blue-200 dark:border-blue-800/50",warningText:"text-blue-600 dark:text-blue-400"},success:{icon:B.Z,iconColor:"text-emerald-500",gradient:"from-emerald-500 to-teal-600",bgGradient:"from-emerald-500/10 to-teal-500/5",confirmButton:"from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 shadow-emerald-500/25",orbColor:"from-emerald-500/10 to-teal-500/10",glowColor:"bg-emerald-500/20",warningBg:"bg-emerald-50 dark:bg-emerald-900/20",warningBorder:"border-emerald-200 dark:border-emerald-800/50",warningText:"text-emerald-600 dark:text-emerald-400"}}[c],E=C.icon;return(0,s.jsxs)("div",{className:"jsx-171a0fa688a67ce2 fixed inset-0 z-[60] flex items-center justify-center p-4",children:[(0,s.jsx)("div",{onClick:w,className:"jsx-171a0fa688a67ce2 "+"absolute inset-0 bg-slate-900/70 backdrop-blur-md transition-opacity duration-300 ".concat(u?"opacity-0":"opacity-100")}),(0,s.jsx)("div",{className:"jsx-171a0fa688a67ce2 absolute inset-0 pointer-events-none overflow-hidden",children:[...Array(8)].map((e,t)=>(0,s.jsx)("div",{style:{left:"".concat(15+10*t,"%"),top:"".concat(25+t%4*15,"%"),animation:"float ".concat(3+.4*t,"s ease-in-out infinite"),animationDelay:"".concat(.2*t,"s")},className:"jsx-171a0fa688a67ce2 "+"absolute w-2 h-2 rounded-full ".concat(C.glowColor," opacity-60")},t))}),(0,s.jsxs)("div",{style:{animation:p&&!u?"confirmModalIn 0.4s cubic-bezier(0.34, 1.56, 0.64, 1)":void 0},className:"jsx-171a0fa688a67ce2 "+"relative bg-white dark:bg-slate-800 rounded-3xl shadow-2xl w-full max-w-md overflow-hidden border border-slate-200/50 dark:border-slate-700/50 transition-all duration-300 ".concat(u?"opacity-0 scale-90 translate-y-8":p?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-90 translate-y-8"),children:[(0,s.jsx)("div",{className:"jsx-171a0fa688a67ce2 "+"absolute inset-0 bg-gradient-to-br ".concat(C.orbColor," pointer-events-none")}),(0,s.jsx)("div",{className:"jsx-171a0fa688a67ce2 "+"absolute -top-24 -right-24 w-48 h-48 ".concat(C.glowColor," rounded-full blur-3xl pointer-events-none animate-pulse")}),(0,s.jsx)("div",{style:{animationDelay:"1s"},className:"jsx-171a0fa688a67ce2 "+"absolute -bottom-24 -left-24 w-48 h-48 ".concat(C.glowColor," rounded-full blur-3xl pointer-events-none animate-pulse")}),(0,s.jsx)("button",{onClick:w,disabled:j,className:"jsx-171a0fa688a67ce2 absolute top-4 right-4 w-9 h-9 rounded-full bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 flex items-center justify-center transition-all duration-200 hover:scale-110 hover:rotate-90 z-10 disabled:opacity-50",children:(0,s.jsx)(N.Z,{className:"w-4 h-4 text-slate-500 dark:text-slate-400"})}),(0,s.jsxs)("div",{className:"jsx-171a0fa688a67ce2 relative p-8 text-center",children:[(0,s.jsxs)("div",{className:"jsx-171a0fa688a67ce2 relative mx-auto mb-6 w-24 h-24",children:[(0,s.jsx)("div",{style:{animationDuration:"2s"},className:"jsx-171a0fa688a67ce2 "+"absolute inset-0 rounded-full bg-gradient-to-br ".concat(C.gradient," opacity-20 animate-ping")}),(0,s.jsx)("div",{style:{animationDuration:"10s"},className:"jsx-171a0fa688a67ce2 absolute inset-0 rounded-full border-2 border-dashed border-slate-300 dark:border-slate-600 animate-spin"}),(0,s.jsx)("div",{className:"jsx-171a0fa688a67ce2 "+"absolute inset-2 rounded-full ".concat(C.glowColor," blur-xl animate-pulse")}),(0,s.jsx)("div",{className:"jsx-171a0fa688a67ce2 "+"relative w-24 h-24 rounded-full bg-gradient-to-br ".concat(C.bgGradient," border border-slate-200/50 dark:border-slate-700/50 flex items-center justify-center"),children:(0,s.jsx)("div",{className:"jsx-171a0fa688a67ce2 "+"w-16 h-16 rounded-full bg-gradient-to-br ".concat(C.gradient," flex items-center justify-center shadow-lg transform transition-transform hover:scale-105"),children:(0,s.jsx)(E,{strokeWidth:2,className:"jsx-171a0fa688a67ce2 w-8 h-8 text-white"})})})]}),(0,s.jsx)("h3",{className:"jsx-171a0fa688a67ce2 text-2xl font-bold text-slate-900 dark:text-white mb-3",children:o}),(0,s.jsx)("p",{className:"jsx-171a0fa688a67ce2 text-slate-600 dark:text-slate-400 mb-4 leading-relaxed",children:n}),m&&(0,s.jsx)("div",{className:"jsx-171a0fa688a67ce2 mb-5 px-5 py-3 bg-slate-100 dark:bg-slate-700/50 rounded-xl border border-slate-200/50 dark:border-slate-600/50 inline-block max-w-full",children:(0,s.jsxs)("p",{className:"jsx-171a0fa688a67ce2 text-slate-900 dark:text-white font-semibold truncate",children:["“",m,"”"]})}),"danger"===c&&(0,s.jsx)("div",{className:"jsx-171a0fa688a67ce2 "+"mb-6 p-4 ".concat(C.warningBg," border ").concat(C.warningBorder," rounded-xl"),children:(0,s.jsxs)("p",{className:"jsx-171a0fa688a67ce2 "+"text-sm ".concat(C.warningText," flex items-center justify-center gap-2"),children:[(0,s.jsx)(_.Z,{className:"w-4 h-4 flex-shrink-0"}),(0,s.jsx)("span",{className:"jsx-171a0fa688a67ce2",children:"This action cannot be undone"})]})}),!m&&"danger"!==c&&(0,s.jsx)("div",{className:"jsx-171a0fa688a67ce2 mb-6"}),(0,s.jsxs)("div",{className:"jsx-171a0fa688a67ce2 flex gap-3",children:[(0,s.jsx)("button",{onClick:w,disabled:j,className:"jsx-171a0fa688a67ce2 flex-1 px-6 py-4 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-xl font-semibold hover:bg-slate-200 dark:hover:bg-slate-600 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed group",children:(0,s.jsx)("span",{className:"jsx-171a0fa688a67ce2 group-hover:scale-105 inline-block transition-transform",children:d})}),(0,s.jsx)("button",{onClick:k,disabled:j,className:"jsx-171a0fa688a67ce2 "+"flex-1 px-6 py-4 bg-gradient-to-r ".concat(C.confirmButton," text-white rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 group"),children:j?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(D.Z,{className:"w-5 h-5 animate-spin"}),(0,s.jsx)("span",{className:"jsx-171a0fa688a67ce2",children:"Deleting..."})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(E,{className:"jsx-171a0fa688a67ce2 w-5 h-5 group-hover:scale-110 transition-transform"}),(0,s.jsx)("span",{className:"jsx-171a0fa688a67ce2",children:i})]})})]})]})]}),(0,s.jsx)(y(),{id:"171a0fa688a67ce2",children:"@-webkit-keyframes confirmModalIn{0%{opacity:0;-webkit-transform:scale(.8)translatey(30px);transform:scale(.8)translatey(30px)}50%{-webkit-transform:scale(1.02)translatey(-5px);transform:scale(1.02)translatey(-5px)}100%{opacity:1;-webkit-transform:scale(1)translatey(0);transform:scale(1)translatey(0)}}@-moz-keyframes confirmModalIn{0%{opacity:0;-moz-transform:scale(.8)translatey(30px);transform:scale(.8)translatey(30px)}50%{-moz-transform:scale(1.02)translatey(-5px);transform:scale(1.02)translatey(-5px)}100%{opacity:1;-moz-transform:scale(1)translatey(0);transform:scale(1)translatey(0)}}@-o-keyframes confirmModalIn{0%{opacity:0;-o-transform:scale(.8)translatey(30px);transform:scale(.8)translatey(30px)}50%{-o-transform:scale(1.02)translatey(-5px);transform:scale(1.02)translatey(-5px)}100%{opacity:1;-o-transform:scale(1)translatey(0);transform:scale(1)translatey(0)}}@keyframes confirmModalIn{0%{opacity:0;-webkit-transform:scale(.8)translatey(30px);-moz-transform:scale(.8)translatey(30px);-o-transform:scale(.8)translatey(30px);transform:scale(.8)translatey(30px)}50%{-webkit-transform:scale(1.02)translatey(-5px);-moz-transform:scale(1.02)translatey(-5px);-o-transform:scale(1.02)translatey(-5px);transform:scale(1.02)translatey(-5px)}100%{opacity:1;-webkit-transform:scale(1)translatey(0);-moz-transform:scale(1)translatey(0);-o-transform:scale(1)translatey(0);transform:scale(1)translatey(0)}}@-webkit-keyframes float{0%,100%{-webkit-transform:translatey(0)scale(1);transform:translatey(0)scale(1);opacity:.4}50%{-webkit-transform:translatey(-25px)scale(1.3);transform:translatey(-25px)scale(1.3);opacity:.8}}@-moz-keyframes float{0%,100%{-moz-transform:translatey(0)scale(1);transform:translatey(0)scale(1);opacity:.4}50%{-moz-transform:translatey(-25px)scale(1.3);transform:translatey(-25px)scale(1.3);opacity:.8}}@-o-keyframes float{0%,100%{-o-transform:translatey(0)scale(1);transform:translatey(0)scale(1);opacity:.4}50%{-o-transform:translatey(-25px)scale(1.3);transform:translatey(-25px)scale(1.3);opacity:.8}}@keyframes float{0%,100%{-webkit-transform:translatey(0)scale(1);-moz-transform:translatey(0)scale(1);-o-transform:translatey(0)scale(1);transform:translatey(0)scale(1);opacity:.4}50%{-webkit-transform:translatey(-25px)scale(1.3);-moz-transform:translatey(-25px)scale(1.3);-o-transform:translatey(-25px)scale(1.3);transform:translatey(-25px)scale(1.3);opacity:.8}}"})]})}var J=a(9124);let H={DRAFT:{label:"Draft",color:"text-slate-400",bg:"bg-slate-500/10",border:"border-slate-500/30",icon:l.Z},PENDING_REVIEW:{label:"Pending",color:"text-amber-400",bg:"bg-amber-500/10",border:"border-amber-500/30",icon:o.Z},ACTIVE:{label:"Active",color:"text-emerald-400",bg:"bg-emerald-500/10",border:"border-emerald-500/30",icon:n.Z},SUSPENDED:{label:"Suspended",color:"text-red-400",bg:"bg-red-500/10",border:"border-red-500/30",icon:i.Z}};function K(){let e=(0,J.p)(),[t,a]=(0,r.useState)([]),[w,y]=(0,r.useState)(!0),[N,k]=(0,r.useState)(!1),[C,E]=(0,r.useState)(null),[Z,D]=(0,r.useState)("ALL"),[S,z]=(0,r.useState)(""),[F,P]=(0,r.useState)(!1),[A,T]=(0,r.useState)(null),I=async()=>{try{y(!0);let e=await fetch("/api/firms"),t=await e.json();t.firms&&a(t.firms)}catch(e){console.error("Error fetching firms:",e)}finally{y(!1)}};(0,r.useEffect)(()=>{I()},[]);let B=(0,r.useMemo)(()=>({total:t.length,draft:t.filter(e=>"DRAFT"===e.status).length,pendingReview:t.filter(e=>"PENDING_REVIEW"===e.status).length,active:t.filter(e=>"ACTIVE"===e.status).length,suspended:t.filter(e=>"SUSPENDED"===e.status).length,visible:t.filter(e=>e.isVisibleInClientApp).length}),[t]),M=(0,r.useMemo)(()=>t.filter(e=>{if("ALL"!==Z&&e.status!==Z)return!1;if(S){var t,a;let s=S.toLowerCase();return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(s))||(null===(a=e.city)||void 0===a?void 0:a.toLowerCase().includes(s))}return!0}),[t,Z,S]),R=e=>{E(e),k(!0)},L=e=>{T(e),P(!0)},U=async()=>{if(!A)return;let e=localStorage.getItem("auth_token"),t=await fetch("/api/firms/".concat(A.id),{method:"DELETE",headers:{...e&&{Authorization:"Bearer ".concat(e)}}});if(!t.ok)throw Error((await t.json()).error||"Failed to delete firm");I()},G=()=>{k(!1),E(null)},O=async t=>{if(confirm('Are you sure you want to approve "'.concat(t.name,'"? This will make it visible to clients.')))try{let a=localStorage.getItem("auth_token"),s=await fetch("".concat("http://45.92.173.121/api","/api/firms/").concat(t.id),{method:"PUT",headers:{"Content-Type":"application/json",...a?{Authorization:"Bearer ".concat(a)}:{}},body:JSON.stringify({status:"ACTIVE",isVisibleInClientApp:!0,approvedAt:new Date().toISOString()})}),r=await s.json();if(s.ok&&r.success)e.success('"'.concat(t.name,'" has been approved successfully')),I();else{let t="string"==typeof r.message?r.message:"string"==typeof r.error?r.error:"Failed to approve firm";e.error(t)}}catch(t){console.error("Error approving firm:",t),e.error("Failed to approve firm")}},_=async t=>{let a=prompt('Please provide a reason for rejecting "'.concat(t.name,'":'));if(a)try{let s=localStorage.getItem("auth_token"),r=await fetch("".concat("http://45.92.173.121/api","/api/firms/").concat(t.id),{method:"PUT",headers:{"Content-Type":"application/json",...s?{Authorization:"Bearer ".concat(s)}:{}},body:JSON.stringify({status:"DRAFT",rejectionReason:a})}),l=await r.json();if(r.ok&&l.success)e.warning('"'.concat(t.name,'" has been rejected')),I();else{let t="string"==typeof l.message?l.message:"string"==typeof l.error?l.error:"Failed to reject firm";e.error(t)}}catch(t){console.error("Error rejecting firm:",t),e.error("Failed to reject firm")}};return(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 relative overflow-hidden",children:[(0,s.jsxs)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[(0,s.jsx)("div",{className:"absolute top-0 left-1/4 w-[600px] h-[600px] bg-violet-500/5 rounded-full blur-[150px]"}),(0,s.jsx)("div",{className:"absolute bottom-0 right-1/4 w-[500px] h-[500px] bg-purple-500/5 rounded-full blur-[150px]"}),(0,s.jsx)("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-violet-600/3 rounded-full blur-[200px]"})]}),(0,s.jsx)("div",{className:"relative border-b border-slate-800/50 bg-slate-900/50 backdrop-blur-xl",children:(0,s.jsx)("div",{className:"px-8 py-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-5",children:[(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-500 to-purple-500 rounded-2xl blur-xl opacity-50 group-hover:opacity-75 transition-opacity"}),(0,s.jsx)("div",{className:"relative w-14 h-14 bg-gradient-to-br from-violet-500 to-purple-500 rounded-2xl flex items-center justify-center shadow-lg shadow-violet-500/25",children:(0,s.jsx)(d.Z,{className:"w-7 h-7 text-white"})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-white tracking-tight",children:"Firms"}),(0,s.jsx)("p",{className:"text-slate-400 text-sm mt-0.5",children:"Manage partner firms on the platform"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("button",{onClick:I,disabled:w,className:"group flex items-center gap-2.5 px-5 py-3 bg-slate-800/50 hover:bg-slate-700/50 border border-slate-700/50 rounded-xl transition-all duration-300",children:[(0,s.jsx)(c.Z,{className:"w-4 h-4 text-slate-400 group-hover:text-white transition-colors ".concat(w?"animate-spin":"")}),(0,s.jsx)("span",{className:"text-sm font-medium text-slate-300 group-hover:text-white transition-colors",children:"Refresh"})]}),(0,s.jsxs)("button",{onClick:()=>k(!0),className:"group relative flex items-center gap-2.5 px-5 py-3 bg-gradient-to-r from-violet-500 to-purple-500 hover:from-violet-600 hover:to-purple-600 rounded-xl transition-all duration-300 shadow-lg shadow-violet-500/25",children:[(0,s.jsx)(x.Z,{className:"w-4 h-4 text-white"}),(0,s.jsx)("span",{className:"text-sm font-semibold text-white",children:"Add Firm"})]})]})]})})}),(0,s.jsxs)("div",{className:"relative p-8",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-8",children:[(0,s.jsxs)("div",{className:"group relative",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-500/20 to-violet-600/10 rounded-2xl blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),(0,s.jsxs)("div",{className:"relative bg-slate-800/40 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-5 hover:border-violet-500/30 transition-all duration-300",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-slate-400",children:"Total"}),(0,s.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-violet-500/20 to-violet-600/10 rounded-xl flex items-center justify-center border border-violet-500/20",children:(0,s.jsx)(d.Z,{className:"w-5 h-5 text-violet-400"})})]}),(0,s.jsx)("p",{className:"text-3xl font-bold text-white tracking-tight",children:B.total})]})]}),(0,s.jsxs)("div",{className:"group relative",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/20 to-emerald-600/10 rounded-2xl blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),(0,s.jsxs)("div",{className:"relative bg-slate-800/40 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-5 hover:border-emerald-500/30 transition-all duration-300",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-slate-400",children:"Active"}),(0,s.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-emerald-500/20 to-emerald-600/10 rounded-xl flex items-center justify-center border border-emerald-500/20",children:(0,s.jsx)(n.Z,{className:"w-5 h-5 text-emerald-400"})})]}),(0,s.jsx)("p",{className:"text-3xl font-bold text-emerald-400 tracking-tight",children:B.active})]})]}),(0,s.jsxs)("div",{className:"group relative",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-500/20 to-amber-600/10 rounded-2xl blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),(0,s.jsxs)("div",{className:"relative bg-slate-800/40 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-5 hover:border-amber-500/30 transition-all duration-300",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-slate-400",children:"Pending"}),(0,s.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-amber-500/20 to-amber-600/10 rounded-xl flex items-center justify-center border border-amber-500/20",children:(0,s.jsx)(o.Z,{className:"w-5 h-5 text-amber-400"})})]}),(0,s.jsx)("p",{className:"text-3xl font-bold text-amber-400 tracking-tight",children:B.pendingReview})]})]}),(0,s.jsxs)("div",{className:"group relative",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-500/20 to-slate-600/10 rounded-2xl blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),(0,s.jsxs)("div",{className:"relative bg-slate-800/40 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-5 hover:border-slate-500/30 transition-all duration-300",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-slate-400",children:"Draft"}),(0,s.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-slate-500/20 to-slate-600/10 rounded-xl flex items-center justify-center border border-slate-500/20",children:(0,s.jsx)(l.Z,{className:"w-5 h-5 text-slate-400"})})]}),(0,s.jsx)("p",{className:"text-3xl font-bold text-slate-400 tracking-tight",children:B.draft})]})]}),(0,s.jsxs)("div",{className:"group relative",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-red-500/20 to-red-600/10 rounded-2xl blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),(0,s.jsxs)("div",{className:"relative bg-slate-800/40 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-5 hover:border-red-500/30 transition-all duration-300",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-slate-400",children:"Suspended"}),(0,s.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-red-500/20 to-red-600/10 rounded-xl flex items-center justify-center border border-red-500/20",children:(0,s.jsx)(i.Z,{className:"w-5 h-5 text-red-400"})})]}),(0,s.jsx)("p",{className:"text-3xl font-bold text-red-400 tracking-tight",children:B.suspended})]})]}),(0,s.jsxs)("div",{className:"group relative",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/20 to-blue-600/10 rounded-2xl blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),(0,s.jsxs)("div",{className:"relative bg-slate-800/40 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-5 hover:border-blue-500/30 transition-all duration-300",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-slate-400",children:"Visible"}),(0,s.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500/20 to-blue-600/10 rounded-xl flex items-center justify-center border border-blue-500/20",children:(0,s.jsx)(m.Z,{className:"w-5 h-5 text-blue-400"})})]}),(0,s.jsx)("p",{className:"text-3xl font-bold text-blue-400 tracking-tight",children:B.visible})]})]})]}),(0,s.jsxs)("div",{className:"bg-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl overflow-hidden",children:[(0,s.jsx)("div",{className:"px-6 py-5 border-b border-slate-700/50",children:(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center gap-4",children:[(0,s.jsxs)("div",{className:"relative flex-1 max-w-sm",children:[(0,s.jsx)(f.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),(0,s.jsx)("input",{type:"text",placeholder:"Search by name or city...",value:S,onChange:e=>z(e.target.value),className:"w-full pl-11 pr-4 py-3 bg-slate-900/50 border border-slate-700/50 rounded-xl text-sm text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-violet-500/30 focus:border-violet-500/50 transition-all"})]}),(0,s.jsx)("div",{className:"flex bg-slate-900/50 rounded-xl p-1 border border-slate-700/50",children:["ALL","ACTIVE","PENDING_REVIEW","DRAFT","SUSPENDED"].map(e=>(0,s.jsx)("button",{onClick:()=>D(e),className:"px-4 py-2.5 text-sm font-medium rounded-lg transition-all duration-300 ".concat(Z===e?"bg-gradient-to-r from-violet-500 to-purple-500 text-white shadow-lg shadow-violet-500/25":"text-slate-400 hover:text-white"),children:"ALL"===e?"All":"PENDING_REVIEW"===e?"Pending":e.charAt(0)+e.slice(1).toLowerCase()},e))})]})}),(0,s.jsx)("div",{className:"px-6 py-4 bg-slate-900/30 border-b border-slate-700/30",children:(0,s.jsxs)("div",{className:"grid grid-cols-12 gap-4",children:[(0,s.jsx)("div",{className:"col-span-1 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Status"}),(0,s.jsx)("div",{className:"col-span-3 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Firm"}),(0,s.jsx)("div",{className:"col-span-2 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Location"}),(0,s.jsx)("div",{className:"col-span-2 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Created"}),(0,s.jsx)("div",{className:"col-span-2 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Visibility"}),(0,s.jsx)("div",{className:"col-span-2 text-xs font-semibold text-slate-500 uppercase tracking-wider text-right",children:"Actions"})]})}),(0,s.jsx)("div",{className:"divide-y divide-slate-700/30",children:w?(0,s.jsxs)("div",{className:"py-20 text-center",children:[(0,s.jsxs)("div",{className:"relative inline-block",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-violet-500/20 rounded-full blur-xl"}),(0,s.jsx)(c.Z,{className:"relative w-10 h-10 text-violet-400 animate-spin mx-auto"})]}),(0,s.jsx)("p",{className:"text-slate-400 mt-4 font-medium",children:"Loading firms..."})]}):0===M.length?(0,s.jsxs)("div",{className:"py-20 text-center",children:[(0,s.jsxs)("div",{className:"relative inline-block mb-4",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-slate-500/10 rounded-full blur-xl"}),(0,s.jsx)("div",{className:"relative w-16 h-16 bg-slate-800/50 rounded-2xl flex items-center justify-center mx-auto",children:(0,s.jsx)(d.Z,{className:"w-8 h-8 text-slate-600"})})]}),(0,s.jsx)("p",{className:"text-slate-300 font-semibold text-lg",children:"No firms found"}),(0,s.jsx)("p",{className:"text-slate-500 text-sm mt-1",children:S||"ALL"!==Z?"Try adjusting your filters":"Add your first firm to get started"}),!S&&"ALL"===Z&&(0,s.jsxs)("button",{onClick:()=>k(!0),className:"mt-6 inline-flex items-center gap-2 px-5 py-3 bg-gradient-to-r from-violet-500 to-purple-500 hover:from-violet-600 hover:to-purple-600 text-white rounded-xl text-sm font-semibold transition-all shadow-lg shadow-violet-500/25",children:[(0,s.jsx)(x.Z,{className:"w-4 h-4"}),"Add First Firm"]})]}):M.map(e=>{var t,a;let r=H[e.status]||H.DRAFT,l=r.icon;return(0,s.jsx)("div",{className:"px-6 py-4 hover:bg-slate-700/20 transition-all duration-300 group",children:(0,s.jsxs)("div",{className:"grid grid-cols-12 gap-4 items-center",children:[(0,s.jsx)("div",{className:"col-span-1",children:(0,s.jsxs)("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg text-xs font-semibold ".concat(r.bg," ").concat(r.color," border ").concat(r.border),children:[(0,s.jsx)(l,{className:"w-3.5 h-3.5"}),r.label]})}),(0,s.jsx)("div",{className:"col-span-3",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-11 h-11 bg-gradient-to-br from-violet-500/20 to-purple-500/10 rounded-xl flex items-center justify-center overflow-hidden border border-violet-500/20",children:e.logoUrl?(0,s.jsx)("img",{src:e.logoUrl,alt:e.name,className:"w-full h-full object-cover"}):(0,s.jsx)("span",{className:"text-sm font-bold text-violet-400",children:(null===(a=e.name)||void 0===a?void 0:null===(t=a.charAt(0))||void 0===t?void 0:t.toUpperCase())||"F"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-semibold text-white group-hover:text-violet-300 transition-colors",children:e.name}),(0,s.jsxs)("p",{className:"text-xs text-slate-500",children:[e.id.slice(0,8),"..."]})]})]})}),(0,s.jsx)("div",{className:"col-span-2",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-400",children:[(0,s.jsx)(b.Z,{className:"w-4 h-4 text-slate-600"}),e.city||"—"]})}),(0,s.jsx)("div",{className:"col-span-2",children:(0,s.jsxs)("div",{className:"flex items-center gap-1.5 text-sm text-slate-500",children:[(0,s.jsx)(u.Z,{className:"w-3.5 h-3.5"}),function(e){if(!e)return"Unknown";let t=new Date(e),a=new Date().getTime()-t.getTime(),s=Math.floor(a/6e4),r=Math.floor(a/36e5),l=Math.floor(a/864e5);return s<1?"Just now":s<60?"".concat(s,"m ago"):r<24?"".concat(r,"h ago"):l<7?"".concat(l,"d ago"):t.toLocaleDateString("en-US",{month:"short",day:"numeric"})}(e.createdAt)]})}),(0,s.jsx)("div",{className:"col-span-2",children:e.isVisibleInClientApp?(0,s.jsxs)("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg text-xs font-semibold bg-blue-500/10 text-blue-400 border border-blue-500/30",children:[(0,s.jsx)(h.Z,{className:"w-3.5 h-3.5"}),"Visible"]}):(0,s.jsx)("span",{className:"text-xs text-slate-500",children:"Hidden"})}),(0,s.jsxs)("div",{className:"col-span-2 flex items-center justify-end gap-2",children:["PENDING_REVIEW"===e.status&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("button",{onClick:()=>O(e),className:"flex items-center gap-1.5 px-3 py-2 bg-emerald-500/10 text-emerald-400 hover:bg-emerald-500/20 border border-emerald-500/30 rounded-lg text-xs font-semibold transition-all",children:[(0,s.jsx)(p.Z,{className:"w-3.5 h-3.5"}),"Approve"]}),(0,s.jsxs)("button",{onClick:()=>_(e),className:"flex items-center gap-1.5 px-3 py-2 bg-red-500/10 text-red-400 hover:bg-red-500/20 border border-red-500/30 rounded-lg text-xs font-semibold transition-all",children:[(0,s.jsx)(g.Z,{className:"w-3.5 h-3.5"}),"Reject"]})]}),(0,s.jsx)("button",{onClick:()=>R(e),className:"p-2.5 hover:bg-slate-700/50 rounded-lg transition-all border border-transparent hover:border-slate-600/50",title:"Edit",children:(0,s.jsx)(j.Z,{className:"w-4 h-4 text-slate-400 hover:text-white"})}),(0,s.jsx)("button",{onClick:()=>L(e),className:"p-2.5 hover:bg-red-500/10 rounded-lg transition-all border border-transparent hover:border-red-500/30",title:"Delete",children:(0,s.jsx)(v.Z,{className:"w-4 h-4 text-slate-400 hover:text-red-400"})})]})]})},e.id)})}),!w&&M.length>0&&(0,s.jsx)("div",{className:"px-6 py-4 bg-slate-900/30 border-t border-slate-700/30",children:(0,s.jsxs)("p",{className:"text-sm text-slate-500",children:["Showing ",(0,s.jsx)("span",{className:"font-semibold text-slate-300",children:M.length})," of ",(0,s.jsx)("span",{className:"font-semibold text-slate-300",children:t.length})," firms"]})})]})]}),(0,s.jsx)(V,{isOpen:N,onClose:G,onSuccess:()=>{I(),G()},firm:C}),(0,s.jsx)(W,{isOpen:F,onClose:()=>{P(!1),T(null)},onConfirm:U,title:"Delete Firm",message:"Are you sure you want to delete this firm? All associated data including orders, clients, and staff will be permanently removed.",confirmText:"Delete Firm",cancelText:"Cancel",variant:"danger",itemName:null==A?void 0:A.name})]})}},9124:function(e,t,a){"use strict";a.d(t,{ToastProvider:function(){return u},p:function(){return m}});var s=a(7437),r=a(2265),l=a(5302),o=a(5131),n=a(3639),i=a(3245),d=a(2023),c=a(2489);let x=(0,r.createContext)(void 0);function m(){let e=(0,r.useContext)(x);if(!e)throw Error("useToast must be used within a ToastProvider");return e}let f={success:{icon:l.Z,gradient:"from-emerald-500 via-green-500 to-teal-500",bgGlow:"shadow-emerald-500/50",iconBg:"bg-white/20",progressBar:"bg-white/40"},error:{icon:o.Z,gradient:"from-red-500 via-rose-500 to-pink-500",bgGlow:"shadow-red-500/50",iconBg:"bg-white/20",progressBar:"bg-white/40"},warning:{icon:n.Z,gradient:"from-amber-500 via-orange-500 to-yellow-500",bgGlow:"shadow-amber-500/50",iconBg:"bg-white/20",progressBar:"bg-white/40"},info:{icon:i.Z,gradient:"from-blue-500 via-indigo-500 to-purple-500",bgGlow:"shadow-blue-500/50",iconBg:"bg-white/20",progressBar:"bg-white/40"}};function b(e){let{toast:t,onRemove:a}=e,[l,o]=(0,r.useState)(!1),[n,i]=(0,r.useState)(!1),[x,m]=(0,r.useState)(100),b=f[t.type],u=b.icon,h=t.duration||4e3;return(0,r.useEffect)(()=>{requestAnimationFrame(()=>o(!0));let e=Date.now(),s=setInterval(()=>{m(Math.max(0,100-(Date.now()-e)/h*100))},50),r=setTimeout(()=>{i(!0),setTimeout(()=>a(t.id),400)},h);return()=>{clearInterval(s),clearTimeout(r)}},[t.id,h,a]),(0,s.jsxs)("div",{className:"\n        relative overflow-hidden rounded-2xl shadow-2xl ".concat(b.bgGlow,"\n        transform transition-all duration-400 ease-out\n        ").concat(l&&!n?"translate-x-0 opacity-100 scale-100":"translate-x-full opacity-0 scale-95","\n        backdrop-blur-xl\n      "),children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r ".concat(b.gradient," opacity-95")}),(0,s.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute -top-1/2 -left-1/2 w-full h-full bg-white/10 rounded-full blur-3xl animate-pulse"}),(0,s.jsx)("div",{className:"absolute -bottom-1/2 -right-1/2 w-full h-full bg-white/5 rounded-full blur-2xl"})]}),(0,s.jsx)("div",{className:"absolute top-2 right-12 opacity-60",children:(0,s.jsx)(d.Z,{className:"w-3 h-3 text-white animate-pulse"})}),(0,s.jsxs)("div",{className:"relative flex items-center gap-4 px-5 py-4 min-w-[320px] max-w-[420px]",children:[(0,s.jsx)("div",{className:"flex-shrink-0 p-2.5 rounded-xl ".concat(b.iconBg," backdrop-blur-sm"),children:(0,s.jsx)(u,{className:"w-5 h-5 text-white drop-shadow-lg"})}),(0,s.jsx)("p",{className:"flex-1 text-white font-semibold text-sm leading-tight drop-shadow-md pr-6",children:t.message}),(0,s.jsx)("button",{onClick:()=>{i(!0),setTimeout(()=>a(t.id),400)},className:"absolute top-3 right-3 p-1.5 rounded-lg bg-white/10 hover:bg-white/20 transition-all hover:scale-110 group",children:(0,s.jsx)(c.Z,{className:"w-3.5 h-3.5 text-white/80 group-hover:text-white"})})]}),(0,s.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-black/10",children:(0,s.jsx)("div",{className:"h-full ".concat(b.progressBar," transition-all duration-100 ease-linear"),style:{width:"".concat(x,"%")}})})]})}function u(e){let{children:t}=e,[a,l]=(0,r.useState)([]),o=(0,r.useCallback)(e=>{l(t=>t.filter(t=>t.id!==e))},[]),n=(0,r.useCallback)((e,t,a)=>{let s="toast-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9));l(r=>[...r,{id:s,type:e,message:t,duration:a}])},[]),i=(0,r.useCallback)((e,t)=>{n("success",e,t)},[n]),d=(0,r.useCallback)((e,t)=>{n("error",e,t)},[n]),c=(0,r.useCallback)((e,t)=>{n("warning",e,t)},[n]),m=(0,r.useCallback)((e,t)=>{n("info",e,t)},[n]);return(0,s.jsxs)(x.Provider,{value:{showToast:n,success:i,error:d,warning:c,info:m},children:[t,(0,s.jsx)("div",{className:"fixed top-4 right-4 z-[99999] flex flex-col gap-3 pointer-events-none",children:a.map(e=>(0,s.jsx)("div",{className:"pointer-events-auto",children:(0,s.jsx)(b,{toast:e,onRemove:o})},e.id))})]})}}},function(e){e.O(0,[906,848,971,117,744],function(){return e(e.s=4388)}),_N_E=e.O()}]);