(()=>{var e={};e.id=5423,e.ids=[5423],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3860:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>g,originalPathname:()=>x,pages:()=>c,routeModule:()=>m,tree:()=>o}),t(7165),t(3551),t(6560);var a=t(3191),s=t(8716),d=t(7922),n=t.n(d),l=t(5231),i={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);t.d(r,i);let o=["",{children:["accounts",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,7165)),"/Users/musabekisakov/claudeCode/crm/app/accounts/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,3551)),"/Users/musabekisakov/claudeCode/crm/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,6560)),"/Users/musabekisakov/claudeCode/crm/app/not-found.tsx"]}],c=["/Users/musabekisakov/claudeCode/crm/app/accounts/page.tsx"],x="/accounts/page",g={require:t,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/accounts/page",pathname:"/accounts",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},8060:(e,r,t)=>{Promise.resolve().then(t.bind(t,6273))},6273:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>g});var a=t(326),s=t(7577),d=t(3502);function n({accounts:e}){return a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow overflow-hidden border border-gray-100 dark:border-gray-700",children:a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700 border-b dark:border-gray-600",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase",children:"Name"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase",children:"Email"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase",children:"Role"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase",children:"Status"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase",children:"Last Login"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase",children:"Created"})]})}),a.jsx("tbody",{className:"divide-y dark:divide-gray-700",children:e.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[a.jsx("td",{className:"px-6 py-4 font-semibold text-navy dark:text-white",children:e.name}),a.jsx("td",{className:"px-6 py-4 text-gray-600 dark:text-gray-400",children:e.email}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-300",children:e.role})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold ${e.active?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300"}`,children:e.active?"ACTIVE":"INACTIVE"})}),a.jsx("td",{className:"px-6 py-4 text-gray-600 dark:text-gray-400 text-sm",children:new Date(e.lastLogin).toLocaleString()}),a.jsx("td",{className:"px-6 py-4 text-gray-600 dark:text-gray-400 text-sm",children:new Date(e.createdAt).toLocaleDateString()})]},e.id))})]})})})}var l=t(434);function i({accounts:e}){return a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow overflow-hidden border border-gray-100 dark:border-gray-700",children:a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700 border-b dark:border-gray-600",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase",children:"Firm"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase",children:"Owner"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase",children:"Email"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase",children:"Phone"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase",children:"Status"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase",children:"Last Login"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase",children:"Created"})]})}),a.jsx("tbody",{className:"divide-y dark:divide-gray-700",children:e.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsx(l.default,{href:`/firms/${e.firmId}`,className:"font-semibold text-navy dark:text-blue-400 hover:underline",children:e.firmName})}),a.jsx("td",{className:"px-6 py-4 text-gray-900 dark:text-gray-300",children:e.ownerName}),a.jsx("td",{className:"px-6 py-4 text-gray-600 dark:text-gray-400",children:e.email}),a.jsx("td",{className:"px-6 py-4 text-gray-600 dark:text-gray-400",children:e.ownerPhone}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold ${e.active?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300":"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300"}`,children:e.active?"ACTIVE":"SUSPENDED"})}),a.jsx("td",{className:"px-6 py-4 text-gray-600 dark:text-gray-400 text-sm",children:e.lastLogin?new Date(e.lastLogin).toLocaleString():"Never"}),a.jsx("td",{className:"px-6 py-4 text-gray-600 dark:text-gray-400 text-sm",children:new Date(e.createdAt).toLocaleDateString()})]},e.id))})]})})})}var o=t(4019);function c({onClose:e,onSuccess:r}){let[t,d]=(0,s.useState)(!1),[n,l]=(0,s.useState)({firmName:"",city:"",ownerName:"",ownerPhone:"",email:"",password:""}),i=async t=>{t.preventDefault(),d(!0);try{console.log("Creating firm account:",n),await new Promise(e=>setTimeout(e,1e3)),r(),e()}catch(e){console.error("Failed to create firm account:",e),alert("Failed to create firm account")}finally{d(!1)}};return a.jsx("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/70 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 w-full max-w-md max-h-[90vh] overflow-y-auto border border-gray-100 dark:border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-2xl font-bold text-navy dark:text-white",children:"Add New Firm Account"}),a.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition",children:a.jsx(o.Z,{className:"w-5 h-5 dark:text-gray-300"})})]}),(0,a.jsxs)("form",{onSubmit:i,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Firm Name *"}),a.jsx("input",{type:"text",required:!0,placeholder:"e.g., AquaPure Tashkent",className:"w-full px-4 py-2 border dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-navy/20 dark:focus:ring-blue-500/20 focus:border-navy dark:focus:border-blue-500 outline-none bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:n.firmName,onChange:e=>l({...n,firmName:e.target.value})})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"City *"}),a.jsx("input",{type:"text",required:!0,placeholder:"e.g., Tashkent",className:"w-full px-4 py-2 border dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-navy/20 dark:focus:ring-blue-500/20 focus:border-navy dark:focus:border-blue-500 outline-none bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:n.city,onChange:e=>l({...n,city:e.target.value})})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Owner Name *"}),a.jsx("input",{type:"text",required:!0,placeholder:"e.g., Aziz Karimov",className:"w-full px-4 py-2 border dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-navy/20 dark:focus:ring-blue-500/20 focus:border-navy dark:focus:border-blue-500 outline-none bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:n.ownerName,onChange:e=>l({...n,ownerName:e.target.value})})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Owner Phone *"}),a.jsx("input",{type:"tel",required:!0,placeholder:"+998901234567",className:"w-full px-4 py-2 border dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-navy/20 dark:focus:ring-blue-500/20 focus:border-navy dark:focus:border-blue-500 outline-none bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:n.ownerPhone,onChange:e=>l({...n,ownerPhone:e.target.value})})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Login Email *"}),a.jsx("input",{type:"email",required:!0,placeholder:"owner@aquapure.uz",className:"w-full px-4 py-2 border dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-navy/20 dark:focus:ring-blue-500/20 focus:border-navy dark:focus:border-blue-500 outline-none bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:n.email,onChange:e=>l({...n,email:e.target.value})})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Initial Password *"}),a.jsx("input",{type:"password",required:!0,placeholder:"Min 8 characters",className:"w-full px-4 py-2 border dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-navy/20 dark:focus:ring-blue-500/20 focus:border-navy dark:focus:border-blue-500 outline-none bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:n.password,onChange:e=>l({...n,password:e.target.value})}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Owner will receive these credentials via email"})]}),(0,a.jsxs)("div",{className:"flex gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 border dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition text-gray-900 dark:text-white",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:t,className:"flex-1 px-4 py-2 bg-navy dark:bg-blue-600 text-white rounded-lg hover:bg-navy/90 dark:hover:bg-blue-700 transition disabled:opacity-50",children:t?"Creating...":"Create Firm Account"})]})]})]})})}var x=t(3855);function g(){let[e,r]=(0,s.useState)(!1),[t,l]=(0,s.useState)("admins"),o=[{id:"1",email:"admin@watergo.uz",name:"Platform Admin",role:"SUPER_ADMIN",active:!0,lastLogin:new Date().toISOString(),createdAt:"2024-01-01T00:00:00Z"},{id:"2",email:"support@watergo.uz",name:"Support Team",role:"ADMIN",active:!0,lastLogin:new Date(Date.now()-864e5).toISOString(),createdAt:"2024-01-15T00:00:00Z"}],g=[{id:"1",firmId:"1",firmName:"AquaPure Tashkent",email:"owner@aquapure.uz",ownerName:"Aziz Karimov",ownerPhone:"+998901234567",active:!0,lastLogin:new Date().toISOString(),createdAt:"2024-01-15T10:00:00Z"},{id:"2",firmId:"2",firmName:"Crystal Water Samarkand",email:"admin@crystalwater.uz",ownerName:"Dilshod Umarov",ownerPhone:"+998901234568",active:!0,lastLogin:new Date(Date.now()-36e5).toISOString(),createdAt:"2024-02-10T10:00:00Z"},{id:"3",firmId:"3",firmName:"Fresh Drops Bukhara",email:"contact@freshdrops.uz",ownerName:"Rustam Nazarov",ownerPhone:"+998901234569",active:!1,lastLogin:null,createdAt:"2024-03-05T10:00:00Z"}];return(0,a.jsxs)("div",{className:"p-8 dark:bg-gray-900 min-h-screen",children:[a.jsx(d.Z,{title:"Accounts Management",description:"Manage platform admins and firm accounts"}),(0,a.jsxs)("div",{className:"flex gap-4 mb-6 border-b dark:border-gray-700",children:[(0,a.jsxs)("button",{onClick:()=>l("admins"),className:`px-4 py-2 font-semibold transition ${"admins"===t?"text-navy dark:text-blue-400 border-b-2 border-navy dark:border-blue-400":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:["Admin Accounts (",o.length,")"]}),(0,a.jsxs)("button",{onClick:()=>l("firms"),className:`px-4 py-2 font-semibold transition ${"firms"===t?"text-navy dark:text-blue-400 border-b-2 border-navy dark:border-blue-400":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:["Firm Accounts (",g.length,")"]})]}),"admins"===t?(0,a.jsxs)("div",{children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsx("h2",{className:"text-xl font-bold text-navy dark:text-white",children:"Platform Admins"})}),a.jsx(n,{accounts:o})]}):(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-xl font-bold text-navy dark:text-white",children:"Firm Accounts"}),(0,a.jsxs)("button",{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2 bg-navy dark:bg-blue-600 text-white rounded-lg hover:bg-navy/90 dark:hover:bg-blue-700 transition",children:[a.jsx(x.Z,{className:"w-5 h-5"}),"Add Firm Account"]})]}),a.jsx(i,{accounts:g})]}),e&&a.jsx(c,{onClose:()=>r(!1),onSuccess:()=>{console.log("Firm account created successfully")}})]})}},3502:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});var a=t(326);function s({title:e,description:r,action:t}){return(0,a.jsxs)("div",{className:"flex items-start justify-between mb-8",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-navy-900 via-navy-700 to-primary dark:from-blue-400 dark:via-blue-300 dark:to-blue-500 bg-clip-text text-transparent mb-2",children:e}),r&&a.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:r})]}),t&&a.jsx("div",{children:t})]})}},3855:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(6557).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},7165:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});let a=(0,t(8570).createProxy)(String.raw`/Users/musabekisakov/claudeCode/crm/app/accounts/page.tsx#default`)}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[9276,972,4952],()=>t(3860));module.exports=a})();