(()=>{var e={};e.id=1957,e.ids=[1957],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3132:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>f,tree:()=>d}),a(7539),a(3551),a(6560);var s=a(3191),r=a(8716),l=a(7922),o=a.n(l),n=a(5231),i={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>n[e]);a.d(t,i);let d=["",{children:["firms",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,7539)),"/Users/musabekisakov/claudeCode/crm/app/firms/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,3551)),"/Users/musabekisakov/claudeCode/crm/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,6560)),"/Users/musabekisakov/claudeCode/crm/app/not-found.tsx"]}],c=["/Users/musabekisakov/claudeCode/crm/app/firms/page.tsx"],x="/firms/page",m={require:a,loadChunk:()=>Promise.resolve()},f=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/firms/page",pathname:"/firms",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},452:(e,t,a)=>{Promise.resolve().then(a.bind(a,6099))},6099:(e,t,a)=>{"use strict";a.d(t,{default:()=>K});var s=a(326),r=a(7577),l=a(6557);let o=(0,l.Z)("FilePen",[["path",{d:"M4 13.5V4a2 2 0 0 1 2-2h8.5L20 7.5V20a2 2 0 0 1-2 2h-5.5",key:"1bg6eb"}],["path",{d:"M14 2v6h6",key:"1kof46"}],["path",{d:"M10.4 12.6a2 2 0 0 1 3 3L8 21l-4 1 1-4Z",key:"hnx206"}]]);var n=a(8998),i=a(2179),d=a(1470),c=a(9734),x=a(1405),m=a(3855),f=a(4014),b=a(8307),h=a(5562),p=a(7358),u=a(2714),g=a(9593),j=a(687),y=a(5206),v=a(8091),w=a(7626),N=a.n(w),k=a(4019),Z=a(3634),C=a(7888);let z=(0,l.Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),E=(0,l.Z)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);var P=a(5290),M=a(1709),S=a(3685);let A=(0,l.Z)("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);var D=a(9635),F=a(2887),$=a(5932),T=a(9015),I=a(4659),L=a(1572),B=a(2933);let R=(0,l.Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var U=a(4230);function q({isOpen:e,onClose:t,title:a,message:l,credentials:o}){let[n,d]=(0,r.useState)(!1),[c,x]=(0,r.useState)(!1),[m,f]=(0,r.useState)(!1),b=async(e,t)=>{await navigator.clipboard.writeText(e),"email"===t?(d(!0),setTimeout(()=>d(!1),2e3)):(x(!0),setTimeout(()=>x(!1),2e3))};return e?(0,s.jsxs)("div",{className:"jsx-aece355ae4f0a342 fixed inset-0 z-[60] flex items-center justify-center p-4",children:[s.jsx("div",{onClick:t,className:"jsx-aece355ae4f0a342 absolute inset-0 bg-slate-900/70 backdrop-blur-md"}),m&&s.jsx("div",{className:"jsx-aece355ae4f0a342 absolute inset-0 pointer-events-none overflow-hidden",children:[...Array(50)].map((e,t)=>s.jsx("div",{style:{left:`${100*Math.random()}%`,animationDelay:`${.5*Math.random()}s`,backgroundColor:["#10B981","#3B82F6","#8B5CF6","#F59E0B","#EC4899"][Math.floor(5*Math.random())]},className:"jsx-aece355ae4f0a342 confetti-piece"},t))}),(0,s.jsxs)("div",{style:{animation:"successModalIn 0.4s cubic-bezier(0.34, 1.56, 0.64, 1)"},className:"jsx-aece355ae4f0a342 relative bg-white dark:bg-slate-800 rounded-3xl shadow-2xl w-full max-w-md overflow-hidden border border-slate-200/50 dark:border-slate-700/50",children:[s.jsx("div",{className:"jsx-aece355ae4f0a342 absolute inset-0 bg-gradient-to-br from-emerald-500/5 via-transparent to-blue-500/5 pointer-events-none"}),s.jsx("div",{className:"jsx-aece355ae4f0a342 absolute -top-20 -right-20 w-40 h-40 bg-emerald-500/20 rounded-full blur-3xl pointer-events-none"}),s.jsx("div",{className:"jsx-aece355ae4f0a342 absolute -bottom-20 -left-20 w-40 h-40 bg-blue-500/20 rounded-full blur-3xl pointer-events-none"}),s.jsx("button",{onClick:t,className:"jsx-aece355ae4f0a342 absolute top-4 right-4 w-8 h-8 rounded-full bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 flex items-center justify-center transition-all duration-200 hover:scale-110 z-10",children:s.jsx(k.Z,{className:"w-4 h-4 text-slate-500 dark:text-slate-400"})}),(0,s.jsxs)("div",{className:"jsx-aece355ae4f0a342 relative p-8 text-center",children:[(0,s.jsxs)("div",{className:"jsx-aece355ae4f0a342 relative inline-flex mb-6",children:[s.jsx("div",{className:"jsx-aece355ae4f0a342 absolute inset-0 bg-emerald-500/20 rounded-full blur-xl animate-pulse"}),s.jsx("div",{className:"jsx-aece355ae4f0a342 relative w-20 h-20 bg-gradient-to-br from-emerald-400 to-emerald-600 rounded-full flex items-center justify-center shadow-lg shadow-emerald-500/30",children:s.jsx(i.Z,{className:"w-10 h-10 text-white",strokeWidth:2.5})}),s.jsx("div",{className:"jsx-aece355ae4f0a342 absolute -top-1 -right-1 w-6 h-6 bg-gradient-to-br from-amber-400 to-orange-500 rounded-full flex items-center justify-center shadow-lg animate-bounce",children:s.jsx(L.Z,{className:"w-3 h-3 text-white"})})]}),s.jsx("h2",{className:"jsx-aece355ae4f0a342 text-2xl font-bold text-slate-900 dark:text-white mb-2",children:a}),s.jsx("p",{className:"jsx-aece355ae4f0a342 text-slate-600 dark:text-slate-400 mb-6",children:l}),o&&(0,s.jsxs)("div",{className:"jsx-aece355ae4f0a342 bg-slate-50 dark:bg-slate-700/50 rounded-2xl p-5 mb-6 text-left border border-slate-200/50 dark:border-slate-600/50",children:[(0,s.jsxs)("div",{className:"jsx-aece355ae4f0a342 flex items-center gap-2 mb-4",children:[s.jsx("div",{className:"jsx-aece355ae4f0a342 w-8 h-8 bg-gradient-to-br from-violet-500 to-purple-600 rounded-lg flex items-center justify-center",children:s.jsx(T.Z,{className:"w-4 h-4 text-white"})}),s.jsx("span",{className:"jsx-aece355ae4f0a342 font-semibold text-slate-900 dark:text-white",children:"Owner Credentials"})]}),(0,s.jsxs)("div",{className:"jsx-aece355ae4f0a342 mb-3",children:[s.jsx("label",{className:"jsx-aece355ae4f0a342 text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-1.5 block",children:"Email"}),(0,s.jsxs)("div",{className:"jsx-aece355ae4f0a342 flex items-center gap-2",children:[(0,s.jsxs)("div",{className:"jsx-aece355ae4f0a342 flex-1 flex items-center gap-2 bg-white dark:bg-slate-800 rounded-xl px-4 py-3 border border-slate-200 dark:border-slate-600",children:[s.jsx($.Z,{className:"w-4 h-4 text-slate-400"}),s.jsx("span",{className:"jsx-aece355ae4f0a342 text-slate-900 dark:text-white font-medium truncate",children:o.email})]}),s.jsx("button",{onClick:()=>b(o.email,"email"),className:`jsx-aece355ae4f0a342 w-11 h-11 rounded-xl flex items-center justify-center transition-all duration-200 ${n?"bg-emerald-500 text-white":"bg-slate-200 dark:bg-slate-600 hover:bg-slate-300 dark:hover:bg-slate-500 text-slate-600 dark:text-slate-300"}`,children:n?s.jsx(B.Z,{className:"w-4 h-4"}):s.jsx(R,{className:"w-4 h-4"})})]})]}),(0,s.jsxs)("div",{className:"jsx-aece355ae4f0a342",children:[s.jsx("label",{className:"jsx-aece355ae4f0a342 text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-1.5 block",children:"Password"}),(0,s.jsxs)("div",{className:"jsx-aece355ae4f0a342 flex items-center gap-2",children:[(0,s.jsxs)("div",{className:"jsx-aece355ae4f0a342 flex-1 flex items-center gap-2 bg-white dark:bg-slate-800 rounded-xl px-4 py-3 border border-slate-200 dark:border-slate-600",children:[s.jsx(T.Z,{className:"w-4 h-4 text-slate-400"}),s.jsx("span",{className:"jsx-aece355ae4f0a342 text-slate-900 dark:text-white font-medium font-mono",children:o.password})]}),s.jsx("button",{onClick:()=>b(o.password,"password"),className:`jsx-aece355ae4f0a342 w-11 h-11 rounded-xl flex items-center justify-center transition-all duration-200 ${c?"bg-emerald-500 text-white":"bg-slate-200 dark:bg-slate-600 hover:bg-slate-300 dark:hover:bg-slate-500 text-slate-600 dark:text-slate-300"}`,children:c?s.jsx(B.Z,{className:"w-4 h-4"}):s.jsx(R,{className:"w-4 h-4"})})]})]})]}),o&&s.jsx("p",{className:"jsx-aece355ae4f0a342 text-sm text-slate-500 dark:text-slate-400 mb-6",children:"Share these credentials with the firm owner to access their CRM dashboard."}),(0,s.jsxs)("button",{onClick:t,className:"jsx-aece355ae4f0a342 w-full px-6 py-4 bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white rounded-xl font-semibold shadow-lg shadow-emerald-500/25 hover:shadow-xl transition-all duration-200 flex items-center justify-center gap-2 group",children:[s.jsx("span",{className:"jsx-aece355ae4f0a342",children:"Continue"}),s.jsx(U.Z,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]})]}),s.jsx(N(),{id:"aece355ae4f0a342",children:"@-webkit-keyframes successModalIn{from{opacity:0;-webkit-transform:scale(.8)translatey(20px);transform:scale(.8)translatey(20px)}to{opacity:1;-webkit-transform:scale(1)translatey(0);transform:scale(1)translatey(0)}}@-moz-keyframes successModalIn{from{opacity:0;-moz-transform:scale(.8)translatey(20px);transform:scale(.8)translatey(20px)}to{opacity:1;-moz-transform:scale(1)translatey(0);transform:scale(1)translatey(0)}}@-o-keyframes successModalIn{from{opacity:0;-o-transform:scale(.8)translatey(20px);transform:scale(.8)translatey(20px)}to{opacity:1;-o-transform:scale(1)translatey(0);transform:scale(1)translatey(0)}}@keyframes successModalIn{from{opacity:0;-webkit-transform:scale(.8)translatey(20px);-moz-transform:scale(.8)translatey(20px);-o-transform:scale(.8)translatey(20px);transform:scale(.8)translatey(20px)}to{opacity:1;-webkit-transform:scale(1)translatey(0);-moz-transform:scale(1)translatey(0);-o-transform:scale(1)translatey(0);transform:scale(1)translatey(0)}}@-webkit-keyframes confettiFall{0%{-webkit-transform:translatey(-100vh)rotate(0deg);transform:translatey(-100vh)rotate(0deg);opacity:1}100%{-webkit-transform:translatey(100vh)rotate(720deg);transform:translatey(100vh)rotate(720deg);opacity:0}}@-moz-keyframes confettiFall{0%{-moz-transform:translatey(-100vh)rotate(0deg);transform:translatey(-100vh)rotate(0deg);opacity:1}100%{-moz-transform:translatey(100vh)rotate(720deg);transform:translatey(100vh)rotate(720deg);opacity:0}}@-o-keyframes confettiFall{0%{-o-transform:translatey(-100vh)rotate(0deg);transform:translatey(-100vh)rotate(0deg);opacity:1}100%{-o-transform:translatey(100vh)rotate(720deg);transform:translatey(100vh)rotate(720deg);opacity:0}}@keyframes confettiFall{0%{-webkit-transform:translatey(-100vh)rotate(0deg);-moz-transform:translatey(-100vh)rotate(0deg);-o-transform:translatey(-100vh)rotate(0deg);transform:translatey(-100vh)rotate(0deg);opacity:1}100%{-webkit-transform:translatey(100vh)rotate(720deg);-moz-transform:translatey(100vh)rotate(720deg);-o-transform:translatey(100vh)rotate(720deg);transform:translatey(100vh)rotate(720deg);opacity:0}}.confetti-piece{position:absolute;width:10px;height:10px;top:-20px;-webkit-animation:confettiFall 3s ease-out forwards;-moz-animation:confettiFall 3s ease-out forwards;-o-animation:confettiFall 3s ease-out forwards;animation:confettiFall 3s ease-out forwards}.confetti-piece:nth-child(odd){width:8px;height:16px;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px}.confetti-piece:nth-child(even){-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%}"})]}):null}let V="http://localhost:3001";function _({isOpen:e,onClose:t,onSuccess:a,firm:l}){let[o,i]=(0,r.useState)({name:"",city:"",status:"DRAFT",ownerName:"",ownerPhone:"",ownerEmail:"",ownerPassword:"",bottleDepositEnabled:!1,bottleDepositPrice:15e3}),[x,m]=(0,r.useState)(!1),[f,b]=(0,r.useState)(""),[p,u]=(0,r.useState)(!1),[g,j]=(0,r.useState)(""),[y,w]=(0,r.useState)(null),[B,R]=(0,r.useState)(null),[U,_]=(0,r.useState)(null),[G,O]=(0,r.useState)(!1),W=(0,r.useRef)(null),[H,J]=(0,r.useState)(!1),[K,X]=(0,r.useState)(!1),Q=!!l,Y=()=>{x||(J(!0),setTimeout(()=>{X(!1),t()},200))},ee=async()=>{if(!U)return B;O(!0);try{let e=new FormData;e.append("image",U);let t=localStorage.getItem("auth_token"),a=await fetch(`${V}/api/upload/admin/firm-logo`,{method:"POST",headers:{Authorization:`Bearer ${t}`},body:e}),s=await a.json();if(s.success&&s.data?.logoUrl)return s.data.logoUrl;return console.warn("Logo upload failed, continuing without logo:",s.message),null}catch(e){return console.warn("Logo upload error, continuing without logo:",e),null}finally{O(!1)}},et=async e=>{e.preventDefault(),m(!0),b("");try{let e=localStorage.getItem("auth_token"),t={"Content-Type":"application/json",...e?{Authorization:`Bearer ${e}`}:{}},s=null;if(U&&(s=await ee()),Q){let e=await fetch(`/api/firms/${l.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:o.name,city:o.city,bottleDepositEnabled:o.bottleDepositEnabled,bottleDepositPrice:o.bottleDepositPrice,...s&&{logoUrl:s}})}),t=await e.json();if(!e.ok)throw Error(t.error||"Failed to update firm")}else{if(!o.ownerName||!o.ownerEmail||!o.ownerPassword||!o.ownerPhone)throw Error("Owner name, phone, email, and password are required");let e=await fetch(`${V}/api/firms`,{method:"POST",headers:t,body:JSON.stringify({name:o.name,isActive:!1,...s&&{logoUrl:s},owner:{name:o.ownerName,phone:o.ownerPhone,email:o.ownerEmail,password:o.ownerPassword}})}),r=await e.json();if(!r.success)throw Error(r.message||"Failed to create firm");j(o.name),w({email:o.ownerEmail,password:o.ownerPassword}),a(),Y(),u(!0);return}a(),Y()}catch(e){b(e.message||"Failed to save firm")}finally{m(!1)}};return e?(0,s.jsxs)(s.Fragment,{children:[s.jsx(q,{isOpen:p,onClose:()=>{u(!1),j(""),w(null)},title:"Firm Created Successfully!",message:`"${g}" has been registered. The owner can now login to configure their firm.`,credentials:y||void 0}),(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{onClick:Y,className:`jsx-b5601614ff69325d absolute inset-0 bg-slate-900/70 backdrop-blur-md transition-opacity duration-300 ${H?"opacity-0":"opacity-100"}`}),s.jsx("div",{className:"jsx-b5601614ff69325d absolute inset-0 pointer-events-none overflow-hidden",children:[...Array(12)].map((e,t)=>s.jsx("div",{style:{left:`${10+8*t}%`,top:`${20+t%4*18}%`,animation:`float ${3+.3*t}s ease-in-out infinite`,animationDelay:`${.15*t}s`},className:"jsx-b5601614ff69325d absolute w-2 h-2 rounded-full bg-violet-500/30"},t))}),(0,s.jsxs)("div",{style:{animation:K&&!H?"firmModalIn 0.4s cubic-bezier(0.34, 1.56, 0.64, 1)":void 0},className:`jsx-b5601614ff69325d relative bg-white dark:bg-slate-800 rounded-3xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-hidden border border-slate-200/50 dark:border-slate-700/50 transition-all duration-300 ${H?"opacity-0 scale-90 translate-y-8":K?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-90 translate-y-8"}`,children:[s.jsx("div",{className:"jsx-b5601614ff69325d absolute inset-0 bg-gradient-to-br from-violet-500/5 via-transparent to-purple-500/5 pointer-events-none"}),s.jsx("div",{className:"jsx-b5601614ff69325d absolute -top-24 -right-24 w-48 h-48 bg-violet-500/20 rounded-full blur-3xl pointer-events-none animate-pulse"}),s.jsx("div",{style:{animationDelay:"1s"},className:"jsx-b5601614ff69325d absolute -bottom-24 -left-24 w-48 h-48 bg-purple-500/20 rounded-full blur-3xl pointer-events-none animate-pulse"}),s.jsx("button",{onClick:Y,disabled:x,className:"jsx-b5601614ff69325d absolute top-4 right-4 w-10 h-10 rounded-xl bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 flex items-center justify-center transition-all duration-200 hover:scale-110 hover:rotate-90 z-10 disabled:opacity-50",children:s.jsx(k.Z,{className:"w-5 h-5 text-slate-500 dark:text-slate-400"})}),(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d relative flex items-center gap-4 p-6 border-b border-slate-200/50 dark:border-slate-700/50 bg-gradient-to-r from-slate-50 to-white dark:from-slate-800 dark:to-slate-800/50",children:[(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d relative",children:[s.jsx("div",{className:"jsx-b5601614ff69325d absolute inset-0 bg-gradient-to-br from-violet-500 to-purple-600 rounded-xl blur-lg opacity-50 animate-pulse"}),s.jsx("div",{className:"jsx-b5601614ff69325d relative w-14 h-14 rounded-xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center shadow-lg shadow-violet-500/30",children:s.jsx(c.Z,{className:"w-7 h-7 text-white"})}),s.jsx("div",{className:"jsx-b5601614ff69325d absolute -top-1 -right-1 w-5 h-5 bg-gradient-to-br from-amber-400 to-orange-500 rounded-full flex items-center justify-center shadow-lg",children:s.jsx(Z.Z,{className:"w-3 h-3 text-white"})})]}),(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d",children:[s.jsx("h2",{className:"jsx-b5601614ff69325d text-xl font-bold text-slate-900 dark:text-white",children:Q?"Edit Firm":"Register New Firm"}),s.jsx("p",{className:"jsx-b5601614ff69325d text-sm text-slate-500 dark:text-slate-400",children:Q?"Update firm details":"Create firm and owner account"})]})]}),(0,s.jsxs)("form",{onSubmit:et,className:"jsx-b5601614ff69325d relative p-6 overflow-y-auto max-h-[calc(90vh-10rem)]",children:[f&&(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d mb-6 p-4 rounded-xl bg-red-500/10 border border-red-500/20 flex items-center gap-3 animate-shake relative z-50",children:[s.jsx("div",{className:"jsx-b5601614ff69325d w-10 h-10 rounded-xl bg-red-500/20 flex items-center justify-center flex-shrink-0",children:s.jsx(C.Z,{className:"w-5 h-5 text-red-500"})}),s.jsx("p",{className:"jsx-b5601614ff69325d text-sm text-red-600 dark:text-red-400 font-medium",children:f})]}),!Q&&s.jsx("div",{className:"jsx-b5601614ff69325d mb-6 p-4 rounded-xl bg-gradient-to-r from-blue-500/10 to-cyan-500/10 border border-blue-500/20",children:(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d flex items-center gap-3",children:[s.jsx("div",{className:"jsx-b5601614ff69325d w-8 h-8 rounded-lg bg-blue-500/20 flex items-center justify-center",children:s.jsx(z,{className:"w-4 h-4 text-blue-500"})}),(0,s.jsxs)("p",{className:"jsx-b5601614ff69325d text-sm text-blue-700 dark:text-blue-300",children:["New firms start in ",s.jsx("strong",{className:"jsx-b5601614ff69325d",children:"Draft"})," status. The owner configures settings after login."]})]})}),(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d space-y-6",children:[(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d pb-5 border-b border-slate-200/50 dark:border-slate-700/50",children:[(0,s.jsxs)("h3",{className:"jsx-b5601614ff69325d text-sm font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[s.jsx(E,{className:"w-4 h-4"}),"Firm Logo"]}),(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d flex items-start gap-4",children:[s.jsx("div",{onClick:()=>!G&&!x&&W.current?.click(),className:`jsx-b5601614ff69325d relative w-28 h-28 rounded-2xl border-2 border-dashed flex items-center justify-center cursor-pointer transition-all duration-300 overflow-hidden group ${B?"border-violet-500 bg-violet-50 dark:bg-violet-900/20":"border-slate-300 dark:border-slate-600 hover:border-violet-400 dark:hover:border-violet-500 bg-slate-50 dark:bg-slate-700/50 hover:bg-violet-50 dark:hover:bg-violet-900/20"}`,children:G?(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d flex flex-col items-center gap-2",children:[s.jsx(P.Z,{className:"w-8 h-8 text-violet-500 animate-spin"}),s.jsx("span",{className:"jsx-b5601614ff69325d text-xs text-violet-500",children:"Uploading..."})]}):B?(0,s.jsxs)(s.Fragment,{children:[s.jsx("img",{src:B,alt:"Logo preview",className:"jsx-b5601614ff69325d w-full h-full object-cover"}),s.jsx("div",{className:"jsx-b5601614ff69325d absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:s.jsx(E,{className:"w-6 h-6 text-white"})})]}):(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d flex flex-col items-center gap-2 text-slate-400 group-hover:text-violet-500 transition-colors",children:[s.jsx(M.Z,{className:"w-10 h-10"}),s.jsx("span",{className:"jsx-b5601614ff69325d text-xs font-medium",children:"Upload"})]})}),(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d flex-1",children:[s.jsx("input",{ref:W,type:"file",accept:"image/png,image/jpeg,image/jpg,image/webp",onChange:e=>{let t=e.target.files?.[0];if(!t)return;if(!t.type.startsWith("image/")){b("Please select an image file (PNG, JPG, WEBP)");return}if(t.size>5242880){b("File size must be less than 5MB");return}_(t),b("");let a=new FileReader;a.onloadend=()=>{R(a.result)},a.onerror=()=>{b("Failed to read the image file")},a.readAsDataURL(t)},className:"jsx-b5601614ff69325d hidden"}),(0,s.jsxs)("button",{type:"button",onClick:()=>W.current?.click(),disabled:G||x,className:"jsx-b5601614ff69325d flex items-center gap-2 px-4 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-300 rounded-xl text-sm font-semibold transition-all disabled:opacity-50",children:[s.jsx(S.Z,{className:"w-4 h-4"}),B?"Change Logo":"Upload Logo"]}),B&&(0,s.jsxs)("button",{type:"button",onClick:()=>{R(null),_(null),W.current&&(W.current.value="")},className:"jsx-b5601614ff69325d flex items-center gap-2 px-4 py-2.5 mt-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl text-sm font-semibold transition-all",children:[s.jsx(v.Z,{className:"w-4 h-4"}),"Remove"]}),s.jsx("p",{className:"jsx-b5601614ff69325d text-xs text-slate-500 mt-3",children:"PNG, JPG, WEBP up to 5MB. Square images recommended."})]})]})]}),(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d "+((Q?"":"pb-5 border-b border-slate-200/50 dark:border-slate-700/50")||""),children:[(0,s.jsxs)("h3",{className:"jsx-b5601614ff69325d text-sm font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[s.jsx(c.Z,{className:"w-4 h-4"}),"Firm Details"]}),(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d mb-4",children:[(0,s.jsxs)("label",{className:"jsx-b5601614ff69325d block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:["Firm Name ",s.jsx("span",{className:"jsx-b5601614ff69325d text-red-500",children:"*"})]}),(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d relative group",children:[s.jsx(c.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 group-focus-within:text-violet-500 transition-colors"}),s.jsx("input",{type:"text",value:o.name,onChange:e=>i({...o,name:e.target.value}),placeholder:"e.g., AquaPure Tashkent",required:!0,className:"jsx-b5601614ff69325d w-full pl-12 pr-4 py-3.5 bg-slate-50 dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600 rounded-xl text-slate-900 dark:text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-violet-500/50 focus:border-violet-500 transition-all"})]})]}),(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d",children:[(0,s.jsxs)("label",{className:"jsx-b5601614ff69325d block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:["City ",s.jsx("span",{className:"jsx-b5601614ff69325d text-red-500",children:"*"})]}),(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d relative group",children:[s.jsx(h.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 group-focus-within:text-violet-500 transition-colors"}),s.jsx("input",{type:"text",value:o.city,onChange:e=>i({...o,city:e.target.value}),placeholder:"e.g., Tashkent",required:!0,className:"jsx-b5601614ff69325d w-full pl-12 pr-4 py-3.5 bg-slate-50 dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600 rounded-xl text-slate-900 dark:text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-violet-500/50 focus:border-violet-500 transition-all"})]})]}),Q&&(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d mt-6 pt-5 border-t border-slate-200/50 dark:border-slate-700/50",children:[(0,s.jsxs)("h3",{className:"jsx-b5601614ff69325d text-sm font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[s.jsx(A,{className:"w-4 h-4"}),"Bottle Deposit"]}),(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d flex items-center justify-between p-4 rounded-xl bg-slate-50 dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600 mb-4",children:[(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d",children:[s.jsx("p",{className:"jsx-b5601614ff69325d font-semibold text-slate-700 dark:text-slate-300",children:"Enable Bottle Deposit"}),s.jsx("p",{className:"jsx-b5601614ff69325d text-xs text-slate-500 mt-1",children:"Charge customers for bottle deposit"})]}),s.jsx("button",{type:"button",onClick:()=>i({...o,bottleDepositEnabled:!o.bottleDepositEnabled}),className:`jsx-b5601614ff69325d relative w-14 h-8 rounded-full transition-colors duration-300 ${o.bottleDepositEnabled?"bg-gradient-to-r from-violet-500 to-purple-500":"bg-slate-300 dark:bg-slate-600"}`,children:s.jsx("div",{className:`jsx-b5601614ff69325d absolute top-1 w-6 h-6 bg-white rounded-full shadow-md transition-transform duration-300 ${o.bottleDepositEnabled?"translate-x-7":"translate-x-1"}`})})]}),o.bottleDepositEnabled&&(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d",children:[s.jsx("label",{className:"jsx-b5601614ff69325d block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Deposit Price (UZS)"}),(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d relative group",children:[s.jsx(A,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 group-focus-within:text-violet-500 transition-colors"}),s.jsx("input",{type:"number",value:o.bottleDepositPrice,onChange:e=>i({...o,bottleDepositPrice:parseInt(e.target.value)||0}),placeholder:"15000",min:"0",className:"jsx-b5601614ff69325d w-full pl-12 pr-4 py-3.5 bg-slate-50 dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600 rounded-xl text-slate-900 dark:text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-violet-500/50 focus:border-violet-500 transition-all"})]}),s.jsx("p",{className:"jsx-b5601614ff69325d text-xs text-slate-500 mt-2",children:"Amount charged per bottle as deposit"})]})]})]}),!Q&&(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d",children:[(0,s.jsxs)("h3",{className:"jsx-b5601614ff69325d text-sm font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[s.jsx(D.Z,{className:"w-4 h-4"}),"Owner Account"]}),(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d mb-4",children:[(0,s.jsxs)("label",{className:"jsx-b5601614ff69325d block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:["Owner Name ",s.jsx("span",{className:"jsx-b5601614ff69325d text-red-500",children:"*"})]}),(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d relative group",children:[s.jsx(D.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 group-focus-within:text-violet-500 transition-colors"}),s.jsx("input",{type:"text",value:o.ownerName,onChange:e=>i({...o,ownerName:e.target.value}),placeholder:"e.g., Aziz Karimov",required:!0,className:"jsx-b5601614ff69325d w-full pl-12 pr-4 py-3.5 bg-slate-50 dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600 rounded-xl text-slate-900 dark:text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-violet-500/50 focus:border-violet-500 transition-all"})]})]}),(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d mb-4",children:[(0,s.jsxs)("label",{className:"jsx-b5601614ff69325d block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:["Owner Phone ",s.jsx("span",{className:"jsx-b5601614ff69325d text-red-500",children:"*"})]}),(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d relative group",children:[s.jsx(F.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 group-focus-within:text-violet-500 transition-colors"}),s.jsx("input",{type:"tel",value:o.ownerPhone,onChange:e=>i({...o,ownerPhone:e.target.value}),placeholder:"+998901234567",required:!0,className:"jsx-b5601614ff69325d w-full pl-12 pr-4 py-3.5 bg-slate-50 dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600 rounded-xl text-slate-900 dark:text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-violet-500/50 focus:border-violet-500 transition-all"})]})]}),(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d mb-4",children:[(0,s.jsxs)("label",{className:"jsx-b5601614ff69325d block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:["Owner Email ",s.jsx("span",{className:"jsx-b5601614ff69325d text-red-500",children:"*"})]}),(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d relative group",children:[s.jsx($.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 group-focus-within:text-violet-500 transition-colors"}),s.jsx("input",{type:"email",value:o.ownerEmail,onChange:e=>i({...o,ownerEmail:e.target.value}),placeholder:"owner@aquapure.uz",required:!0,className:"jsx-b5601614ff69325d w-full pl-12 pr-4 py-3.5 bg-slate-50 dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600 rounded-xl text-slate-900 dark:text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-violet-500/50 focus:border-violet-500 transition-all"})]})]}),(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d",children:[(0,s.jsxs)("label",{className:"jsx-b5601614ff69325d block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:["Owner Password ",s.jsx("span",{className:"jsx-b5601614ff69325d text-red-500",children:"*"})]}),(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d relative group",children:[s.jsx(T.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 group-focus-within:text-violet-500 transition-colors"}),s.jsx("input",{type:"password",value:o.ownerPassword,onChange:e=>i({...o,ownerPassword:e.target.value}),placeholder:"Min 6 characters",required:!0,minLength:6,className:"jsx-b5601614ff69325d w-full pl-12 pr-4 py-3.5 bg-slate-50 dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600 rounded-xl text-slate-900 dark:text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-violet-500/50 focus:border-violet-500 transition-all"})]}),s.jsx("p",{className:"jsx-b5601614ff69325d text-xs text-slate-500 mt-2 ml-1",children:"Owner will use these credentials to login to CRM"})]})]}),Q&&l&&(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d p-4 rounded-xl bg-slate-50 dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600",children:[s.jsx("label",{className:"jsx-b5601614ff69325d block text-sm font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-3",children:"Current Status"}),(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d flex items-center gap-3",children:["ACTIVE"===l.status&&(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:"jsx-b5601614ff69325d w-10 h-10 rounded-xl bg-emerald-500/20 flex items-center justify-center",children:s.jsx(I.Z,{className:"w-5 h-5 text-emerald-500"})}),(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d",children:[s.jsx("p",{className:"jsx-b5601614ff69325d font-semibold text-emerald-600 dark:text-emerald-400",children:"Active"}),s.jsx("p",{className:"jsx-b5601614ff69325d text-xs text-slate-500",children:"Visible in client app"})]})]}),"PENDING_REVIEW"===l.status&&(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:"jsx-b5601614ff69325d w-10 h-10 rounded-xl bg-amber-500/20 flex items-center justify-center",children:s.jsx(n.Z,{className:"w-5 h-5 text-amber-500"})}),(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d",children:[s.jsx("p",{className:"jsx-b5601614ff69325d font-semibold text-amber-600 dark:text-amber-400",children:"Pending Review"}),s.jsx("p",{className:"jsx-b5601614ff69325d text-xs text-slate-500",children:"Awaiting admin approval"})]})]}),"DRAFT"===l.status&&(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:"jsx-b5601614ff69325d w-10 h-10 rounded-xl bg-slate-500/20 flex items-center justify-center",children:s.jsx(n.Z,{className:"w-5 h-5 text-slate-500"})}),(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d",children:[s.jsx("p",{className:"jsx-b5601614ff69325d font-semibold text-slate-600 dark:text-slate-400",children:"Draft"}),s.jsx("p",{className:"jsx-b5601614ff69325d text-xs text-slate-500",children:"Not yet submitted for review"})]})]}),"SUSPENDED"===l.status&&(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:"jsx-b5601614ff69325d w-10 h-10 rounded-xl bg-red-500/20 flex items-center justify-center",children:s.jsx(d.Z,{className:"w-5 h-5 text-red-500"})}),(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d",children:[s.jsx("p",{className:"jsx-b5601614ff69325d font-semibold text-red-600 dark:text-red-400",children:"Suspended"}),s.jsx("p",{className:"jsx-b5601614ff69325d text-xs text-slate-500",children:"Hidden from client app"})]})]})]}),s.jsx("p",{className:"jsx-b5601614ff69325d text-xs text-slate-500 mt-3 pt-3 border-t border-slate-200 dark:border-slate-600",children:"Status is managed through the Firm Moderation page"})]})]}),(0,s.jsxs)("div",{className:"jsx-b5601614ff69325d flex gap-3 mt-8",children:[s.jsx("button",{type:"button",onClick:Y,disabled:x,className:"jsx-b5601614ff69325d flex-1 px-6 py-4 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-xl font-semibold hover:bg-slate-200 dark:hover:bg-slate-600 transition-all duration-200 group",children:s.jsx("span",{className:"jsx-b5601614ff69325d group-hover:scale-105 inline-block transition-transform",children:"Cancel"})}),s.jsx("button",{type:"submit",disabled:x||G,className:"jsx-b5601614ff69325d flex-1 px-6 py-4 bg-gradient-to-r from-violet-500 to-purple-600 hover:from-violet-600 hover:to-purple-700 text-white rounded-xl font-semibold shadow-lg shadow-violet-500/25 hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 group",children:x?(0,s.jsxs)(s.Fragment,{children:[s.jsx(P.Z,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{className:"jsx-b5601614ff69325d",children:Q?"Updating...":"Creating..."})]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(L.Z,{className:"w-5 h-5 group-hover:scale-110 transition-transform"}),s.jsx("span",{className:"jsx-b5601614ff69325d",children:Q?"Update Firm":"Register Firm"})]})})]})]})]}),s.jsx(N(),{id:"b5601614ff69325d",children:"@-webkit-keyframes firmModalIn{0%{opacity:0;-webkit-transform:scale(.8)translatey(30px);transform:scale(.8)translatey(30px)}50%{-webkit-transform:scale(1.02)translatey(-5px);transform:scale(1.02)translatey(-5px)}100%{opacity:1;-webkit-transform:scale(1)translatey(0);transform:scale(1)translatey(0)}}@-moz-keyframes firmModalIn{0%{opacity:0;-moz-transform:scale(.8)translatey(30px);transform:scale(.8)translatey(30px)}50%{-moz-transform:scale(1.02)translatey(-5px);transform:scale(1.02)translatey(-5px)}100%{opacity:1;-moz-transform:scale(1)translatey(0);transform:scale(1)translatey(0)}}@-o-keyframes firmModalIn{0%{opacity:0;-o-transform:scale(.8)translatey(30px);transform:scale(.8)translatey(30px)}50%{-o-transform:scale(1.02)translatey(-5px);transform:scale(1.02)translatey(-5px)}100%{opacity:1;-o-transform:scale(1)translatey(0);transform:scale(1)translatey(0)}}@keyframes firmModalIn{0%{opacity:0;-webkit-transform:scale(.8)translatey(30px);-moz-transform:scale(.8)translatey(30px);-o-transform:scale(.8)translatey(30px);transform:scale(.8)translatey(30px)}50%{-webkit-transform:scale(1.02)translatey(-5px);-moz-transform:scale(1.02)translatey(-5px);-o-transform:scale(1.02)translatey(-5px);transform:scale(1.02)translatey(-5px)}100%{opacity:1;-webkit-transform:scale(1)translatey(0);-moz-transform:scale(1)translatey(0);-o-transform:scale(1)translatey(0);transform:scale(1)translatey(0)}}@-webkit-keyframes float{0%,100%{-webkit-transform:translatey(0)scale(1);transform:translatey(0)scale(1);opacity:.3}50%{-webkit-transform:translatey(-20px)scale(1.2);transform:translatey(-20px)scale(1.2);opacity:.6}}@-moz-keyframes float{0%,100%{-moz-transform:translatey(0)scale(1);transform:translatey(0)scale(1);opacity:.3}50%{-moz-transform:translatey(-20px)scale(1.2);transform:translatey(-20px)scale(1.2);opacity:.6}}@-o-keyframes float{0%,100%{-o-transform:translatey(0)scale(1);transform:translatey(0)scale(1);opacity:.3}50%{-o-transform:translatey(-20px)scale(1.2);transform:translatey(-20px)scale(1.2);opacity:.6}}@keyframes float{0%,100%{-webkit-transform:translatey(0)scale(1);-moz-transform:translatey(0)scale(1);-o-transform:translatey(0)scale(1);transform:translatey(0)scale(1);opacity:.3}50%{-webkit-transform:translatey(-20px)scale(1.2);-moz-transform:translatey(-20px)scale(1.2);-o-transform:translatey(-20px)scale(1.2);transform:translatey(-20px)scale(1.2);opacity:.6}}@-webkit-keyframes shake{0%,100%{-webkit-transform:translatex(0);transform:translatex(0)}25%{-webkit-transform:translatex(-5px);transform:translatex(-5px)}75%{-webkit-transform:translatex(5px);transform:translatex(5px)}}@-moz-keyframes shake{0%,100%{-moz-transform:translatex(0);transform:translatex(0)}25%{-moz-transform:translatex(-5px);transform:translatex(-5px)}75%{-moz-transform:translatex(5px);transform:translatex(5px)}}@-o-keyframes shake{0%,100%{-o-transform:translatex(0);transform:translatex(0)}25%{-o-transform:translatex(-5px);transform:translatex(-5px)}75%{-o-transform:translatex(5px);transform:translatex(5px)}}@keyframes shake{0%,100%{-webkit-transform:translatex(0);-moz-transform:translatex(0);-o-transform:translatex(0);transform:translatex(0)}25%{-webkit-transform:translatex(-5px);-moz-transform:translatex(-5px);-o-transform:translatex(-5px);transform:translatex(-5px)}75%{-webkit-transform:translatex(5px);-moz-transform:translatex(5px);-o-transform:translatex(5px);transform:translatex(5px)}}.animate-shake{-webkit-animation:shake.3s ease-in-out;-moz-animation:shake.3s ease-in-out;-o-animation:shake.3s ease-in-out;animation:shake.3s ease-in-out}"})]})]}):null}var G=a(7202);let O=(0,l.Z)("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);function W({isOpen:e,onClose:t,onConfirm:a,title:l,message:o,confirmText:n="Confirm",cancelText:i="Cancel",variant:d="danger",loading:c,itemName:x}){let[m,f]=(0,r.useState)(!1),[b,h]=(0,r.useState)(!1),[p,u]=(0,r.useState)(!1),g=c??m,j=()=>{g||(h(!0),setTimeout(()=>{u(!1),t()},200))},y=async()=>{f(!0);try{await a(),h(!0),setTimeout(()=>{u(!1),t()},200)}catch(e){console.error("Confirm action failed:",e)}finally{f(!1)}};if(!e)return null;let w={danger:{icon:v.Z,iconColor:"text-red-500",gradient:"from-red-500 to-rose-600",bgGradient:"from-red-500/10 to-rose-500/5",confirmButton:"from-red-500 to-rose-600 hover:from-red-600 hover:to-rose-700 shadow-red-500/25",orbColor:"from-red-500/10 to-rose-500/10",glowColor:"bg-red-500/20",warningBg:"bg-red-50 dark:bg-red-900/20",warningBorder:"border-red-200 dark:border-red-800/50",warningText:"text-red-600 dark:text-red-400"},warning:{icon:G.Z,iconColor:"text-amber-500",gradient:"from-amber-500 to-orange-600",bgGradient:"from-amber-500/10 to-orange-500/5",confirmButton:"from-amber-500 to-orange-600 hover:from-amber-600 hover:to-orange-700 shadow-amber-500/25",orbColor:"from-amber-500/10 to-orange-500/10",glowColor:"bg-amber-500/20",warningBg:"bg-amber-50 dark:bg-amber-900/20",warningBorder:"border-amber-200 dark:border-amber-800/50",warningText:"text-amber-600 dark:text-amber-400"},info:{icon:O,iconColor:"text-blue-500",gradient:"from-blue-500 to-indigo-600",bgGradient:"from-blue-500/10 to-indigo-500/5",confirmButton:"from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 shadow-blue-500/25",orbColor:"from-blue-500/10 to-indigo-500/10",glowColor:"bg-blue-500/20",warningBg:"bg-blue-50 dark:bg-blue-900/20",warningBorder:"border-blue-200 dark:border-blue-800/50",warningText:"text-blue-600 dark:text-blue-400"},success:{icon:I.Z,iconColor:"text-emerald-500",gradient:"from-emerald-500 to-teal-600",bgGradient:"from-emerald-500/10 to-teal-500/5",confirmButton:"from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 shadow-emerald-500/25",orbColor:"from-emerald-500/10 to-teal-500/10",glowColor:"bg-emerald-500/20",warningBg:"bg-emerald-50 dark:bg-emerald-900/20",warningBorder:"border-emerald-200 dark:border-emerald-800/50",warningText:"text-emerald-600 dark:text-emerald-400"}}[d],Z=w.icon;return(0,s.jsxs)("div",{className:"jsx-171a0fa688a67ce2 fixed inset-0 z-[60] flex items-center justify-center p-4",children:[s.jsx("div",{onClick:j,className:`jsx-171a0fa688a67ce2 absolute inset-0 bg-slate-900/70 backdrop-blur-md transition-opacity duration-300 ${b?"opacity-0":"opacity-100"}`}),s.jsx("div",{className:"jsx-171a0fa688a67ce2 absolute inset-0 pointer-events-none overflow-hidden",children:[...Array(8)].map((e,t)=>s.jsx("div",{style:{left:`${15+10*t}%`,top:`${25+t%4*15}%`,animation:`float ${3+.4*t}s ease-in-out infinite`,animationDelay:`${.2*t}s`},className:`jsx-171a0fa688a67ce2 absolute w-2 h-2 rounded-full ${w.glowColor} opacity-60`},t))}),(0,s.jsxs)("div",{style:{animation:p&&!b?"confirmModalIn 0.4s cubic-bezier(0.34, 1.56, 0.64, 1)":void 0},className:`jsx-171a0fa688a67ce2 relative bg-white dark:bg-slate-800 rounded-3xl shadow-2xl w-full max-w-md overflow-hidden border border-slate-200/50 dark:border-slate-700/50 transition-all duration-300 ${b?"opacity-0 scale-90 translate-y-8":p?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-90 translate-y-8"}`,children:[s.jsx("div",{className:`jsx-171a0fa688a67ce2 absolute inset-0 bg-gradient-to-br ${w.orbColor} pointer-events-none`}),s.jsx("div",{className:`jsx-171a0fa688a67ce2 absolute -top-24 -right-24 w-48 h-48 ${w.glowColor} rounded-full blur-3xl pointer-events-none animate-pulse`}),s.jsx("div",{style:{animationDelay:"1s"},className:`jsx-171a0fa688a67ce2 absolute -bottom-24 -left-24 w-48 h-48 ${w.glowColor} rounded-full blur-3xl pointer-events-none animate-pulse`}),s.jsx("button",{onClick:j,disabled:g,className:"jsx-171a0fa688a67ce2 absolute top-4 right-4 w-9 h-9 rounded-full bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 flex items-center justify-center transition-all duration-200 hover:scale-110 hover:rotate-90 z-10 disabled:opacity-50",children:s.jsx(k.Z,{className:"w-4 h-4 text-slate-500 dark:text-slate-400"})}),(0,s.jsxs)("div",{className:"jsx-171a0fa688a67ce2 relative p-8 text-center",children:[(0,s.jsxs)("div",{className:"jsx-171a0fa688a67ce2 relative mx-auto mb-6 w-24 h-24",children:[s.jsx("div",{style:{animationDuration:"2s"},className:`jsx-171a0fa688a67ce2 absolute inset-0 rounded-full bg-gradient-to-br ${w.gradient} opacity-20 animate-ping`}),s.jsx("div",{style:{animationDuration:"10s"},className:"jsx-171a0fa688a67ce2 absolute inset-0 rounded-full border-2 border-dashed border-slate-300 dark:border-slate-600 animate-spin"}),s.jsx("div",{className:`jsx-171a0fa688a67ce2 absolute inset-2 rounded-full ${w.glowColor} blur-xl animate-pulse`}),s.jsx("div",{className:`jsx-171a0fa688a67ce2 relative w-24 h-24 rounded-full bg-gradient-to-br ${w.bgGradient} border border-slate-200/50 dark:border-slate-700/50 flex items-center justify-center`,children:s.jsx("div",{className:`jsx-171a0fa688a67ce2 w-16 h-16 rounded-full bg-gradient-to-br ${w.gradient} flex items-center justify-center shadow-lg transform transition-transform hover:scale-105`,children:s.jsx(Z,{strokeWidth:2,className:"jsx-171a0fa688a67ce2 w-8 h-8 text-white"})})})]}),s.jsx("h3",{className:"jsx-171a0fa688a67ce2 text-2xl font-bold text-slate-900 dark:text-white mb-3",children:l}),s.jsx("p",{className:"jsx-171a0fa688a67ce2 text-slate-600 dark:text-slate-400 mb-4 leading-relaxed",children:o}),x&&s.jsx("div",{className:"jsx-171a0fa688a67ce2 mb-5 px-5 py-3 bg-slate-100 dark:bg-slate-700/50 rounded-xl border border-slate-200/50 dark:border-slate-600/50 inline-block max-w-full",children:(0,s.jsxs)("p",{className:"jsx-171a0fa688a67ce2 text-slate-900 dark:text-white font-semibold truncate",children:["“",x,"”"]})}),"danger"===d&&s.jsx("div",{className:`jsx-171a0fa688a67ce2 mb-6 p-4 ${w.warningBg} border ${w.warningBorder} rounded-xl`,children:(0,s.jsxs)("p",{className:`jsx-171a0fa688a67ce2 text-sm ${w.warningText} flex items-center justify-center gap-2`,children:[s.jsx(G.Z,{className:"w-4 h-4 flex-shrink-0"}),s.jsx("span",{className:"jsx-171a0fa688a67ce2",children:"This action cannot be undone"})]})}),!x&&"danger"!==d&&s.jsx("div",{className:"jsx-171a0fa688a67ce2 mb-6"}),(0,s.jsxs)("div",{className:"jsx-171a0fa688a67ce2 flex gap-3",children:[s.jsx("button",{onClick:j,disabled:g,className:"jsx-171a0fa688a67ce2 flex-1 px-6 py-4 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-xl font-semibold hover:bg-slate-200 dark:hover:bg-slate-600 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed group",children:s.jsx("span",{className:"jsx-171a0fa688a67ce2 group-hover:scale-105 inline-block transition-transform",children:i})}),s.jsx("button",{onClick:y,disabled:g,className:`jsx-171a0fa688a67ce2 flex-1 px-6 py-4 bg-gradient-to-r ${w.confirmButton} text-white rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 group`,children:g?(0,s.jsxs)(s.Fragment,{children:[s.jsx(P.Z,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{className:"jsx-171a0fa688a67ce2",children:"Deleting..."})]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(Z,{className:"jsx-171a0fa688a67ce2 w-5 h-5 group-hover:scale-110 transition-transform"}),s.jsx("span",{className:"jsx-171a0fa688a67ce2",children:n})]})})]})]})]}),s.jsx(N(),{id:"171a0fa688a67ce2",children:"@-webkit-keyframes confirmModalIn{0%{opacity:0;-webkit-transform:scale(.8)translatey(30px);transform:scale(.8)translatey(30px)}50%{-webkit-transform:scale(1.02)translatey(-5px);transform:scale(1.02)translatey(-5px)}100%{opacity:1;-webkit-transform:scale(1)translatey(0);transform:scale(1)translatey(0)}}@-moz-keyframes confirmModalIn{0%{opacity:0;-moz-transform:scale(.8)translatey(30px);transform:scale(.8)translatey(30px)}50%{-moz-transform:scale(1.02)translatey(-5px);transform:scale(1.02)translatey(-5px)}100%{opacity:1;-moz-transform:scale(1)translatey(0);transform:scale(1)translatey(0)}}@-o-keyframes confirmModalIn{0%{opacity:0;-o-transform:scale(.8)translatey(30px);transform:scale(.8)translatey(30px)}50%{-o-transform:scale(1.02)translatey(-5px);transform:scale(1.02)translatey(-5px)}100%{opacity:1;-o-transform:scale(1)translatey(0);transform:scale(1)translatey(0)}}@keyframes confirmModalIn{0%{opacity:0;-webkit-transform:scale(.8)translatey(30px);-moz-transform:scale(.8)translatey(30px);-o-transform:scale(.8)translatey(30px);transform:scale(.8)translatey(30px)}50%{-webkit-transform:scale(1.02)translatey(-5px);-moz-transform:scale(1.02)translatey(-5px);-o-transform:scale(1.02)translatey(-5px);transform:scale(1.02)translatey(-5px)}100%{opacity:1;-webkit-transform:scale(1)translatey(0);-moz-transform:scale(1)translatey(0);-o-transform:scale(1)translatey(0);transform:scale(1)translatey(0)}}@-webkit-keyframes float{0%,100%{-webkit-transform:translatey(0)scale(1);transform:translatey(0)scale(1);opacity:.4}50%{-webkit-transform:translatey(-25px)scale(1.3);transform:translatey(-25px)scale(1.3);opacity:.8}}@-moz-keyframes float{0%,100%{-moz-transform:translatey(0)scale(1);transform:translatey(0)scale(1);opacity:.4}50%{-moz-transform:translatey(-25px)scale(1.3);transform:translatey(-25px)scale(1.3);opacity:.8}}@-o-keyframes float{0%,100%{-o-transform:translatey(0)scale(1);transform:translatey(0)scale(1);opacity:.4}50%{-o-transform:translatey(-25px)scale(1.3);transform:translatey(-25px)scale(1.3);opacity:.8}}@keyframes float{0%,100%{-webkit-transform:translatey(0)scale(1);-moz-transform:translatey(0)scale(1);-o-transform:translatey(0)scale(1);transform:translatey(0)scale(1);opacity:.4}50%{-webkit-transform:translatey(-25px)scale(1.3);-moz-transform:translatey(-25px)scale(1.3);-o-transform:translatey(-25px)scale(1.3);transform:translatey(-25px)scale(1.3);opacity:.8}}"})]})}var H=a(1403);let J={DRAFT:{label:"Draft",color:"text-slate-400",bg:"bg-slate-500/10",border:"border-slate-500/30",icon:o},PENDING_REVIEW:{label:"Pending",color:"text-amber-400",bg:"bg-amber-500/10",border:"border-amber-500/30",icon:n.Z},ACTIVE:{label:"Active",color:"text-emerald-400",bg:"bg-emerald-500/10",border:"border-emerald-500/30",icon:i.Z},SUSPENDED:{label:"Suspended",color:"text-red-400",bg:"bg-red-500/10",border:"border-red-500/30",icon:d.Z}};function K(){let e=(0,H.p)(),[t,a]=(0,r.useState)([]),[l,w]=(0,r.useState)(!0),[N,k]=(0,r.useState)(!1),[Z,C]=(0,r.useState)(null),[z,E]=(0,r.useState)("ALL"),[P,M]=(0,r.useState)(""),[S,A]=(0,r.useState)(!1),[D,F]=(0,r.useState)(null),$=async()=>{try{w(!0);let e=await fetch("/api/firms"),t=await e.json();t.firms&&a(t.firms)}catch(e){console.error("Error fetching firms:",e)}finally{w(!1)}},T=(0,r.useMemo)(()=>({total:t.length,draft:t.filter(e=>"DRAFT"===e.status).length,pendingReview:t.filter(e=>"PENDING_REVIEW"===e.status).length,active:t.filter(e=>"ACTIVE"===e.status).length,suspended:t.filter(e=>"SUSPENDED"===e.status).length,visible:t.filter(e=>e.isVisibleInClientApp).length}),[t]),I=(0,r.useMemo)(()=>t.filter(e=>{if("ALL"!==z&&e.status!==z)return!1;if(P){let t=P.toLowerCase();return e.name?.toLowerCase().includes(t)||e.city?.toLowerCase().includes(t)}return!0}),[t,z,P]),L=e=>{C(e),k(!0)},B=e=>{F(e),A(!0)},R=async()=>{if(!D)return;let e=localStorage.getItem("auth_token"),t=await fetch(`/api/firms/${D.id}`,{method:"DELETE",headers:{...e&&{Authorization:`Bearer ${e}`}}});if(!t.ok)throw Error((await t.json()).error||"Failed to delete firm");$()},U=()=>{k(!1),C(null)},q=async t=>{if(confirm(`Are you sure you want to approve "${t.name}"? This will make it visible to clients.`))try{let a=localStorage.getItem("auth_token"),s=await fetch(`http://45.92.173.121/api/api/firms/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json",...a?{Authorization:`Bearer ${a}`}:{}},body:JSON.stringify({status:"ACTIVE",isVisibleInClientApp:!0,approvedAt:new Date().toISOString()})}),r=await s.json();if(s.ok&&r.success)e.success(`"${t.name}" has been approved successfully`),$();else{let t="string"==typeof r.message?r.message:"string"==typeof r.error?r.error:"Failed to approve firm";e.error(t)}}catch(t){console.error("Error approving firm:",t),e.error("Failed to approve firm")}},V=async t=>{let a=prompt(`Please provide a reason for rejecting "${t.name}":`);if(a)try{let s=localStorage.getItem("auth_token"),r=await fetch(`http://45.92.173.121/api/api/firms/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json",...s?{Authorization:`Bearer ${s}`}:{}},body:JSON.stringify({status:"DRAFT",rejectionReason:a})}),l=await r.json();if(r.ok&&l.success)e.warning(`"${t.name}" has been rejected`),$();else{let t="string"==typeof l.message?l.message:"string"==typeof l.error?l.error:"Failed to reject firm";e.error(t)}}catch(t){console.error("Error rejecting firm:",t),e.error("Failed to reject firm")}};return(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 relative overflow-hidden",children:[(0,s.jsxs)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute top-0 left-1/4 w-[600px] h-[600px] bg-violet-500/5 rounded-full blur-[150px]"}),s.jsx("div",{className:"absolute bottom-0 right-1/4 w-[500px] h-[500px] bg-purple-500/5 rounded-full blur-[150px]"}),s.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-violet-600/3 rounded-full blur-[200px]"})]}),s.jsx("div",{className:"relative border-b border-slate-800/50 bg-slate-900/50 backdrop-blur-xl",children:s.jsx("div",{className:"px-8 py-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-5",children:[(0,s.jsxs)("div",{className:"relative group",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-500 to-purple-500 rounded-2xl blur-xl opacity-50 group-hover:opacity-75 transition-opacity"}),s.jsx("div",{className:"relative w-14 h-14 bg-gradient-to-br from-violet-500 to-purple-500 rounded-2xl flex items-center justify-center shadow-lg shadow-violet-500/25",children:s.jsx(c.Z,{className:"w-7 h-7 text-white"})})]}),(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white tracking-tight",children:"Firms"}),s.jsx("p",{className:"text-slate-400 text-sm mt-0.5",children:"Manage partner firms on the platform"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("button",{onClick:$,disabled:l,className:"group flex items-center gap-2.5 px-5 py-3 bg-slate-800/50 hover:bg-slate-700/50 border border-slate-700/50 rounded-xl transition-all duration-300",children:[s.jsx(x.Z,{className:`w-4 h-4 text-slate-400 group-hover:text-white transition-colors ${l?"animate-spin":""}`}),s.jsx("span",{className:"text-sm font-medium text-slate-300 group-hover:text-white transition-colors",children:"Refresh"})]}),(0,s.jsxs)("button",{onClick:()=>k(!0),className:"group relative flex items-center gap-2.5 px-5 py-3 bg-gradient-to-r from-violet-500 to-purple-500 hover:from-violet-600 hover:to-purple-600 rounded-xl transition-all duration-300 shadow-lg shadow-violet-500/25",children:[s.jsx(m.Z,{className:"w-4 h-4 text-white"}),s.jsx("span",{className:"text-sm font-semibold text-white",children:"Add Firm"})]})]})]})})}),(0,s.jsxs)("div",{className:"relative p-8",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-8",children:[(0,s.jsxs)("div",{className:"group relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-500/20 to-violet-600/10 rounded-2xl blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),(0,s.jsxs)("div",{className:"relative bg-slate-800/40 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-5 hover:border-violet-500/30 transition-all duration-300",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("span",{className:"text-sm font-medium text-slate-400",children:"Total"}),s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-violet-500/20 to-violet-600/10 rounded-xl flex items-center justify-center border border-violet-500/20",children:s.jsx(c.Z,{className:"w-5 h-5 text-violet-400"})})]}),s.jsx("p",{className:"text-3xl font-bold text-white tracking-tight",children:T.total})]})]}),(0,s.jsxs)("div",{className:"group relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/20 to-emerald-600/10 rounded-2xl blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),(0,s.jsxs)("div",{className:"relative bg-slate-800/40 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-5 hover:border-emerald-500/30 transition-all duration-300",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("span",{className:"text-sm font-medium text-slate-400",children:"Active"}),s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-emerald-500/20 to-emerald-600/10 rounded-xl flex items-center justify-center border border-emerald-500/20",children:s.jsx(i.Z,{className:"w-5 h-5 text-emerald-400"})})]}),s.jsx("p",{className:"text-3xl font-bold text-emerald-400 tracking-tight",children:T.active})]})]}),(0,s.jsxs)("div",{className:"group relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-500/20 to-amber-600/10 rounded-2xl blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),(0,s.jsxs)("div",{className:"relative bg-slate-800/40 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-5 hover:border-amber-500/30 transition-all duration-300",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("span",{className:"text-sm font-medium text-slate-400",children:"Pending"}),s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-amber-500/20 to-amber-600/10 rounded-xl flex items-center justify-center border border-amber-500/20",children:s.jsx(n.Z,{className:"w-5 h-5 text-amber-400"})})]}),s.jsx("p",{className:"text-3xl font-bold text-amber-400 tracking-tight",children:T.pendingReview})]})]}),(0,s.jsxs)("div",{className:"group relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-500/20 to-slate-600/10 rounded-2xl blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),(0,s.jsxs)("div",{className:"relative bg-slate-800/40 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-5 hover:border-slate-500/30 transition-all duration-300",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("span",{className:"text-sm font-medium text-slate-400",children:"Draft"}),s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-slate-500/20 to-slate-600/10 rounded-xl flex items-center justify-center border border-slate-500/20",children:s.jsx(o,{className:"w-5 h-5 text-slate-400"})})]}),s.jsx("p",{className:"text-3xl font-bold text-slate-400 tracking-tight",children:T.draft})]})]}),(0,s.jsxs)("div",{className:"group relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-500/20 to-red-600/10 rounded-2xl blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),(0,s.jsxs)("div",{className:"relative bg-slate-800/40 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-5 hover:border-red-500/30 transition-all duration-300",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("span",{className:"text-sm font-medium text-slate-400",children:"Suspended"}),s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-red-500/20 to-red-600/10 rounded-xl flex items-center justify-center border border-red-500/20",children:s.jsx(d.Z,{className:"w-5 h-5 text-red-400"})})]}),s.jsx("p",{className:"text-3xl font-bold text-red-400 tracking-tight",children:T.suspended})]})]}),(0,s.jsxs)("div",{className:"group relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/20 to-blue-600/10 rounded-2xl blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),(0,s.jsxs)("div",{className:"relative bg-slate-800/40 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-5 hover:border-blue-500/30 transition-all duration-300",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("span",{className:"text-sm font-medium text-slate-400",children:"Visible"}),s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500/20 to-blue-600/10 rounded-xl flex items-center justify-center border border-blue-500/20",children:s.jsx(f.Z,{className:"w-5 h-5 text-blue-400"})})]}),s.jsx("p",{className:"text-3xl font-bold text-blue-400 tracking-tight",children:T.visible})]})]})]}),(0,s.jsxs)("div",{className:"bg-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl overflow-hidden",children:[s.jsx("div",{className:"px-6 py-5 border-b border-slate-700/50",children:(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center gap-4",children:[(0,s.jsxs)("div",{className:"relative flex-1 max-w-sm",children:[s.jsx(b.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),s.jsx("input",{type:"text",placeholder:"Search by name or city...",value:P,onChange:e=>M(e.target.value),className:"w-full pl-11 pr-4 py-3 bg-slate-900/50 border border-slate-700/50 rounded-xl text-sm text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-violet-500/30 focus:border-violet-500/50 transition-all"})]}),s.jsx("div",{className:"flex bg-slate-900/50 rounded-xl p-1 border border-slate-700/50",children:["ALL","ACTIVE","PENDING_REVIEW","DRAFT","SUSPENDED"].map(e=>s.jsx("button",{onClick:()=>E(e),className:`px-4 py-2.5 text-sm font-medium rounded-lg transition-all duration-300 ${z===e?"bg-gradient-to-r from-violet-500 to-purple-500 text-white shadow-lg shadow-violet-500/25":"text-slate-400 hover:text-white"}`,children:"ALL"===e?"All":"PENDING_REVIEW"===e?"Pending":e.charAt(0)+e.slice(1).toLowerCase()},e))})]})}),s.jsx("div",{className:"px-6 py-4 bg-slate-900/30 border-b border-slate-700/30",children:(0,s.jsxs)("div",{className:"grid grid-cols-12 gap-4",children:[s.jsx("div",{className:"col-span-1 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Status"}),s.jsx("div",{className:"col-span-3 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Firm"}),s.jsx("div",{className:"col-span-2 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Location"}),s.jsx("div",{className:"col-span-2 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Created"}),s.jsx("div",{className:"col-span-2 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Visibility"}),s.jsx("div",{className:"col-span-2 text-xs font-semibold text-slate-500 uppercase tracking-wider text-right",children:"Actions"})]})}),s.jsx("div",{className:"divide-y divide-slate-700/30",children:l?(0,s.jsxs)("div",{className:"py-20 text-center",children:[(0,s.jsxs)("div",{className:"relative inline-block",children:[s.jsx("div",{className:"absolute inset-0 bg-violet-500/20 rounded-full blur-xl"}),s.jsx(x.Z,{className:"relative w-10 h-10 text-violet-400 animate-spin mx-auto"})]}),s.jsx("p",{className:"text-slate-400 mt-4 font-medium",children:"Loading firms..."})]}):0===I.length?(0,s.jsxs)("div",{className:"py-20 text-center",children:[(0,s.jsxs)("div",{className:"relative inline-block mb-4",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-500/10 rounded-full blur-xl"}),s.jsx("div",{className:"relative w-16 h-16 bg-slate-800/50 rounded-2xl flex items-center justify-center mx-auto",children:s.jsx(c.Z,{className:"w-8 h-8 text-slate-600"})})]}),s.jsx("p",{className:"text-slate-300 font-semibold text-lg",children:"No firms found"}),s.jsx("p",{className:"text-slate-500 text-sm mt-1",children:P||"ALL"!==z?"Try adjusting your filters":"Add your first firm to get started"}),!P&&"ALL"===z&&(0,s.jsxs)("button",{onClick:()=>k(!0),className:"mt-6 inline-flex items-center gap-2 px-5 py-3 bg-gradient-to-r from-violet-500 to-purple-500 hover:from-violet-600 hover:to-purple-600 text-white rounded-xl text-sm font-semibold transition-all shadow-lg shadow-violet-500/25",children:[s.jsx(m.Z,{className:"w-4 h-4"}),"Add First Firm"]})]}):I.map(e=>{let t=J[e.status]||J.DRAFT,a=t.icon;return s.jsx("div",{className:"px-6 py-4 hover:bg-slate-700/20 transition-all duration-300 group",children:(0,s.jsxs)("div",{className:"grid grid-cols-12 gap-4 items-center",children:[s.jsx("div",{className:"col-span-1",children:(0,s.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg text-xs font-semibold ${t.bg} ${t.color} border ${t.border}`,children:[s.jsx(a,{className:"w-3.5 h-3.5"}),t.label]})}),s.jsx("div",{className:"col-span-3",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-11 h-11 bg-gradient-to-br from-violet-500/20 to-purple-500/10 rounded-xl flex items-center justify-center overflow-hidden border border-violet-500/20",children:e.logoUrl?s.jsx("img",{src:e.logoUrl,alt:e.name,className:"w-full h-full object-cover"}):s.jsx("span",{className:"text-sm font-bold text-violet-400",children:e.name?.charAt(0)?.toUpperCase()||"F"})}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-white group-hover:text-violet-300 transition-colors",children:e.name}),(0,s.jsxs)("p",{className:"text-xs text-slate-500",children:[e.id.slice(0,8),"..."]})]})]})}),s.jsx("div",{className:"col-span-2",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-400",children:[s.jsx(h.Z,{className:"w-4 h-4 text-slate-600"}),e.city||"—"]})}),s.jsx("div",{className:"col-span-2",children:(0,s.jsxs)("div",{className:"flex items-center gap-1.5 text-sm text-slate-500",children:[s.jsx(p.Z,{className:"w-3.5 h-3.5"}),function(e){if(!e)return"Unknown";let t=new Date(e),a=new Date().getTime()-t.getTime(),s=Math.floor(a/6e4),r=Math.floor(a/36e5),l=Math.floor(a/864e5);return s<1?"Just now":s<60?`${s}m ago`:r<24?`${r}h ago`:l<7?`${l}d ago`:t.toLocaleDateString("en-US",{month:"short",day:"numeric"})}(e.createdAt)]})}),s.jsx("div",{className:"col-span-2",children:e.isVisibleInClientApp?(0,s.jsxs)("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg text-xs font-semibold bg-blue-500/10 text-blue-400 border border-blue-500/30",children:[s.jsx(u.Z,{className:"w-3.5 h-3.5"}),"Visible"]}):s.jsx("span",{className:"text-xs text-slate-500",children:"Hidden"})}),(0,s.jsxs)("div",{className:"col-span-2 flex items-center justify-end gap-2",children:["PENDING_REVIEW"===e.status&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("button",{onClick:()=>q(e),className:"flex items-center gap-1.5 px-3 py-2 bg-emerald-500/10 text-emerald-400 hover:bg-emerald-500/20 border border-emerald-500/30 rounded-lg text-xs font-semibold transition-all",children:[s.jsx(g.Z,{className:"w-3.5 h-3.5"}),"Approve"]}),(0,s.jsxs)("button",{onClick:()=>V(e),className:"flex items-center gap-1.5 px-3 py-2 bg-red-500/10 text-red-400 hover:bg-red-500/20 border border-red-500/30 rounded-lg text-xs font-semibold transition-all",children:[s.jsx(j.Z,{className:"w-3.5 h-3.5"}),"Reject"]})]}),s.jsx("button",{onClick:()=>L(e),className:"p-2.5 hover:bg-slate-700/50 rounded-lg transition-all border border-transparent hover:border-slate-600/50",title:"Edit",children:s.jsx(y.Z,{className:"w-4 h-4 text-slate-400 hover:text-white"})}),s.jsx("button",{onClick:()=>B(e),className:"p-2.5 hover:bg-red-500/10 rounded-lg transition-all border border-transparent hover:border-red-500/30",title:"Delete",children:s.jsx(v.Z,{className:"w-4 h-4 text-slate-400 hover:text-red-400"})})]})]})},e.id)})}),!l&&I.length>0&&s.jsx("div",{className:"px-6 py-4 bg-slate-900/30 border-t border-slate-700/30",children:(0,s.jsxs)("p",{className:"text-sm text-slate-500",children:["Showing ",s.jsx("span",{className:"font-semibold text-slate-300",children:I.length})," of ",s.jsx("span",{className:"font-semibold text-slate-300",children:t.length})," firms"]})})]})]}),s.jsx(_,{isOpen:N,onClose:U,onSuccess:()=>{$(),U()},firm:Z}),s.jsx(W,{isOpen:S,onClose:()=>{A(!1),F(null)},onConfirm:R,title:"Delete Firm",message:"Are you sure you want to delete this firm? All associated data including orders, clients, and staff will be permanently removed.",confirmText:"Delete Firm",cancelText:"Cancel",variant:"danger",itemName:D?.name})]})}},7888:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(6557).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},4230:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(6557).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},7358:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(6557).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},2179:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(6557).Z)("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},8998:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(6557).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},2714:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(6557).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},1709:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(6557).Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},5290:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(6557).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},9015:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(6557).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},5932:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(6557).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},5206:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(6557).Z)("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]])},2887:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(6557).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},3855:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(6557).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},1405:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(6557).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},8307:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(6557).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},687:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(6557).Z)("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]])},9593:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(6557).Z)("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]])},8091:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(6557).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},3685:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(6557).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},9635:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(6557).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},7539:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var s=a(9510);let r=(0,a(8570).createProxy)(String.raw`/Users/musabekisakov/claudeCode/crm/components/FirmsPageClient.tsx#default`);function l(){return s.jsx(r,{})}}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[9276,972,321,4952],()=>a(3132));module.exports=s})();